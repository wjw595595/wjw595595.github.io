<attachment contenteditable="false" data-atts="%5B%5D" data-aid=".atts-0f05354a-74a1-403f-97b9-a838093a7467"></attachment><p>一、安装gcc依赖</p><p>由于 redis 是用 C 语言开发，安装之前必先确认是否安装 gcc 环境（gcc -v），如果没有安装，执行以下命令进行安装</p><p><strong style="color: rgb(255, 0, 0);">&nbsp;[root@localhost local]# yum install -y gcc&nbsp;</strong></p><p>&nbsp;</p><p>二、下载并解压安装包</p><p><strong style="color: rgb(255, 0, 0);">[root@localhost local]# wget http://download.redis.io/releases/redis-5.0.3.tar.gz</strong></p><p><strong style="color: rgb(255, 0, 0);">[root@localhost local]# tar -zxvf redis-5.0.3.tar.gz</strong></p><p>&nbsp;</p><p>三、cd切换到redis解压目录下，执行编译</p><p><strong style="color: rgb(255, 0, 0);">[root@localhost local]# cd redis-5.0.3</strong></p><p><strong style="color: rgb(255, 0, 0);">[root@localhost redis-5.0.3]# make</strong></p><p>&nbsp;</p><p>四、安装并指定安装目录</p><p><strong style="color: rgb(255, 0, 0);">[root@localhost redis-5.0.3]# make install PREFIX=/usr/local/redis</strong></p><p>&nbsp;</p><p>五、启动服务</p><p>5.1前台启动</p><p><strong style="color: rgb(255, 0, 0);">[root@localhost redis-5.0.3]# cd /usr/local/redis/bin/</strong></p><p><strong style="color: rgb(255, 0, 0);">[root@localhost bin]# ./redis-server</strong></p><p>&nbsp;</p><p>5.2后台启动</p><p>从 redis 的源码目录中复制 redis.conf 到 redis 的安装目录</p><p><strong style="color: rgb(255, 0, 0);">[root@localhost bin]# cp /usr/local/redis-5.0.3/redis.conf /usr/local/redis/bin/</strong></p><p>&nbsp;</p><p>修改 redis.conf&nbsp;文件，把 daemonize no&nbsp;改为 daemonize yes</p><p><strong style="color: rgb(255, 0, 0);">[root@localhost bin]# vi redis.conf</strong></p><p><img src="https://img2018.cnblogs.com/blog/1336432/201903/1336432-20190302212509880-1874470634.png"></p><p>后台启动</p><p><strong style="color: rgb(255, 0, 0);">[root@localhost bin]# ./redis-server redis.conf</strong></p><p><img src="https://img2018.cnblogs.com/blog/1336432/201903/1336432-20190302212804992-1094141996.png"></p><p>&nbsp;</p><p>六、设置开机启动</p><p>添加开机启动服务</p><p><strong style="color: rgb(255, 0, 0);">[root@localhost bin]# vi /etc/systemd/system/redis.service</strong></p><p>复制粘贴以下内容：</p><p><span style="color: rgb(0, 0, 0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></span></p><p>[Unit]</p><p>Description=redis-server</p><p>After=network.target</p><p>[Service]</p><p>Type=forking</p><p><span style="background-color: rgb(255, 204, 153);">ExecStart=/usr/local/redis/bin/redis-server /usr/local/redis/bin/redis.conf</span></p><p>PrivateTmp=true</p><p>[Install]</p><p>WantedBy=multi-user.target</p><p><span style="color: rgb(0, 0, 0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></span></p><p>注意：ExecStart配置成自己的路径&nbsp;</p><p>&nbsp;</p><p>设置开机启动</p><p><strong style="color: rgb(255, 0, 0);">[root@localhost bin]# systemctl daemon-reload</strong></p><p><strong style="color: rgb(255, 0, 0);">[root@localhost bin]# systemctl start redis.service</strong></p><p><strong style="color: rgb(255, 0, 0);">[root@localhost bin]# systemctl enable redis.service</strong></p><p>&nbsp;</p><p>创建 redis 命令软链接</p><p><strong style="color: rgb(255, 0, 0);">[root@localhost ~]# ln -s /usr/local/redis/bin/redis-cli /usr/bin/redis</strong></p><p>测试 redis</p><p><img src="https://img2018.cnblogs.com/blog/1336432/201903/1336432-20190302221347104-518199130.png"></p><p>&nbsp;</p><p>服务操作命令</p><p>systemctl start redis.service&nbsp;&nbsp;#启动redis服务</p><p>systemctl stop redis.service&nbsp;&nbsp;#停止redis服务</p><p>systemctl restart redis.service&nbsp;&nbsp;#重新启动服务</p><p>systemctl status redis.service&nbsp;&nbsp;#查看服务当前状态</p><p>systemctl enable redis.service&nbsp;&nbsp;#设置开机自启动</p><p>systemctl disable redis.service&nbsp;&nbsp;#停止开机自启动</p><p><br></p>