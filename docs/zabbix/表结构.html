<p><strong>Zabbix&nbsp;数据库表结构说明文档</strong></p><p>目录</p><p>1............................ acknowledges表（空）</p><p>2....................................... actions表</p><p>3........................................ alerts表</p><p>4.................. applications_discovery表（空）</p><p>5........................ applications_prototype表</p><p>6......................... applications_template表</p><p>7.................................. applications表</p><p>8...................................... auditlog表</p><p>9.............................. auditlog_details表</p><p>10................................. autoreg_host表</p><p>11................................... conditions表</p><p>12......................................... config</p><p>13........................... corr_condition表(空)</p><p>14..................... corr_condition_group表(空)</p><p>15....................... corr_condition_tag表(空)</p><p>16................... corr_condition_tagpair表(空)</p><p>17.................. corr_condition_tagvalue表(空)</p><p>18........................... Corr_operation表(空)</p><p>19.............................. correlation表(空)</p><p>20.................................... dashboard表</p><p>21............................... Dashboard_user表</p><p>22............................. Dashboard_usrgrp表</p><p>23.................................... dbversion表</p><p>24...................................... dchecks表</p><p>25................................. dhosts表（空）</p><p>26....................................... drules表</p><p>27.............................. dservices表（空）</p><p>28............................ escalations表（空）</p><p>29............................... event_recovery表</p><p>30.............................. event_tag表（空）</p><p>31....................................... events表</p><p>32.................................. expressions表</p><p>33.................................... functions表</p><p>34.................................. globalmacro表</p><p>35............................. globalvars表（空）</p><p>36.............................. graph_discovery表</p><p>37.................................. graph_theme表</p><p>38....................................... graphs表</p><p>39................................. graphs_items表</p><p>40........................ group_discovery表（空）</p><p>41.............................. group_prototype表</p><p>42....................................... groups表</p><p>43...................................... history表</p><p>44.................................. history_log表</p><p>45.................................. history_str表</p><p>46........................... history_text表（空）</p><p>47................................. history_uint表</p><p>48............................... host_discovery表</p><p>49......................... host_inventory表（空）</p><p>50.................................... hostmacro表</p><p>51........................................ hosts表</p><p>52................................. hosts_groups表</p><p>53.............................. hosts_templates表</p><p>54............................ housekeeper表（空）</p><p>55............................... httpstep表（空）</p><p>56......................... httpstep_field表（空）</p><p>57........................... httpstepitem表（空）</p><p>58............................... httptest表（空）</p><p>59......................... httptest_field表（空）</p><p>60........................... httptestitem表（空）</p><p>61............................... icon_map表（空）</p><p>62........................... icon_mapping表（空）</p><p>63.......................................... ids表</p><p>64....................................... images表</p><p>65.................................... interface表</p><p>66.................... interface_discovery表（空）</p><p>67............. item_application_prototype表（空）</p><p>68............................... item_condition表</p><p>69............................... item_discovery表</p><p>70................................. item_preproc表</p><p>71........................................ items表</p><p>72........................... items_applications表</p><p>73........................... maintenances表（空）</p><p>74.................... maintenances_groups表（空）</p><p>75..................... maintenances_hosts表（空）</p><p>76................... maintenances_windows表（空）</p><p>77..................................... mappings表</p><p>78........................................ media表</p><p>79................................... media_type表</p><p>80.............................. opcommand表（空）</p><p>81.......................... opcommand_grp表（空）</p><p>82.......................... opcommand_hst表（空）</p><p>83................................. opconditions表</p><p>84................................... operations表</p><p>85...................................... opgroup表</p><p>86............................ opinventory表（空）</p><p>87.................................... opmessage表</p><p>88................................ opmessage_grp表</p><p>89................................ opmessage_usr表</p><p>90................................... optemplate表</p><p>91...................................... problem表</p><p>92.............................. problem_tag表(空)&nbsp;</p><p>93..................................... profiles表</p><p>94..................... proxy_autoreg_host表（空）</p><p>95......................... proxy_dhistory表（空）</p><p>96.......................... proxy_history表（空）</p><p>97...................................... regexps表</p><p>98....................................... rights表</p><p>99............................ screen_user表（空）</p><p>100......................... screen_usrgrp表（空）</p><p>101..................................... screens表</p><p>102............................... screens_items表</p><p>103..................................... scripts表</p><p>104........................ service_alarms表（空）</p><p>105.............................. services表（空）</p><p>106........................ services_links表（空）</p><p>107........................ services_times表（空）</p><p>108.................................... sessions表</p><p>109................................ slides表（空）</p><p>110........................ slideshow_user表（空）</p><p>111...................... slideshow_usrgrp表（空）</p><p>112............................ slideshows表（空）</p><p>113................ sysmap_element_trigger表（空）</p><p>114.................... sysmap_element_url表（空）</p><p>115................................ sysmap_shape表</p><p>116............................ sysmap_url表（空）</p><p>117........................... sysmap_user表（空）</p><p>118......................... sysmap_usrgrp表（空）</p><p>119..................................... sysmaps表</p><p>120............................ sysmaps_elements表</p><p>121................. sysmaps_link_triggers表（空）</p><p>122......................... sysmaps_links表（空）</p><p>123.................................. task表（空）</p><p>124...................... task_acknowledge表（空）</p><p>125.................... task_close_problem表（空）</p><p>126................... task_remote_command表（空）</p><p>127............ task_remote_command_result表（空）</p><p>128........................... timeperiods表（空）</p><p>129...................................... trends表</p><p>130................................. trends_uint表</p><p>131............................. trigger_depends表</p><p>132........................... trigger_discovery表</p><p>133........................... trigger_tag表（空）</p><p>134.................................... triggers表</p><p>135....................................... users表</p><p>136................................ users_groups表</p><p>137...................................... usrgrp表</p><p>138................................... valuemaps表</p><p>139...................................... widget表</p><p>140................................ widget_field表</p><p>&nbsp;</p><p>该文档提供了zabbix中mysql数据库中各个表及其中字段的详细解释。</p><ol><li><span style="color: rgb(0, 0, 0);">acknowledges表（空）</span></li></ol><p><span style="color: rgb(0, 0, 0);">当trigger发生状态变化后，即产生某个事件（event）后，管理人员需要对这些状态变化进行确认，记录告警的确认信息。</span></p><p><br></p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>acknowledgeid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>确认的唯一标识</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>userid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>用户ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>eventid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>事件ID，外键</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>clock</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>管理员确认的时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>message</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>管理员确认的备注或留言</p><p>False</p><p>action</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>管理员确认的事件</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">actions表</span></li></ol><p><span style="color: rgb(0, 0, 0);">产生event后，会执行指定的动作（action），该表记录动作相关属性。</span></p><p><span style="color: rgb(0, 0, 0);">关键字段： 1）</span>eventsource：同events表中的sources字段</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2）status:0代表OK，1代表Problem</p><p>&nbsp;</p><p><strong style="color: rgb(78, 161, 219);">PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>actionid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>动作的唯一标识</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>动作的名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>eventsource</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>动作所关联的事件ID：</p><p>0指来源为触发器trigger；</p><p>1指来源为自动发现descover；</p><p>2指来源为自动登记auto_register；</p><p>3为网络发现产生的事件源</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>evaltype</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>表示执行action的前提条件的逻辑关系：</p><p>0表示and/or</p><p>1表示and&nbsp;&nbsp;2表示or</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>status</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>是否enable</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>esc_period</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>默认的步骤时间间隔</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>def_shortdata</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>action的标题定义</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>def_longdata</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>action内容的定义</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>r_shortdata</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>恢复提醒的内容标题</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>r_longdata</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>恢复提醒的内容，默认与提醒一样</p><p>False</p><p>formula</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>公式</p><p>False</p><p>maintenance_mode</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>维护模式</p><p>False</p><p>ack_shortdata</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>ack的标题定义</p><p>False</p><p>ack_longdata</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>ack的内容定义</p><p><br></p><p>该表的相关数据查询语句：</p><ol><li>查询所有已创建的动作：select name from actions;</li><li>查询某个动作的详细信息：select * from actions where name=’action_name’\G；</li><li><span style="color: rgb(0, 0, 0);">alerts表</span></li></ol><p><span style="color: rgb(0, 0, 0);">告警相关的表，与action、event、user关联，用于记录通过媒介（邮件、短信、微信等方式）发送的告警信息。</span></p><p>&nbsp;</p><p><strong style="color: rgb(78, 161, 219);">PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>alertid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>告警ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>actionid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>关联的动作ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>eventid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>关联的事件ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>userid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>关联的用户ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>clock</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>产生告警的时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>mediatypeid</p><p>BIGINT</p><p>False</p><p>False</p><p>&nbsp;</p><p>媒介的类型</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>sendto</p><p>VARCHAR</p><p>True</p><p>False</p><p>100</p><p>告警发送的地址</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>subject</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>标题</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>message</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>信息内容</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>status</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>状态成功与否：</p><p>define(<span style="color: rgb(0, 0, 192);">'ALERT_STATUS_NOT_SENT'</span><span style="color: rgb(0, 0, 0);">, 0);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'ALERT_STATUS_SENT'</span><span style="color: rgb(0, 0, 0);">,1);</span></p><p>define(<span style="color: rgb(0, 0, 192);">'ALERT_STATUS_FAILED'</span>,2);</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>retries</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>尝试次数，默认3次</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>error</p><p>VARCHAR</p><p>True</p><p>False</p><p>2048</p><p>错误信息</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>esc_step</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>执行到operation的第几步</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>alerttype</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>告警类型，包含远程命令</p><p>define(<span style="color: rgb(0, 0, 192);">'ALERT_TYPE_MESSAGE'</span><span style="color: rgb(0, 0, 0);">,0);</span></p><p>define(<span style="color: rgb(0, 0, 192);">'ALERT_TYPE_COMMAND'</span>,1);</p><p>False</p><p>p_eventid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>&nbsp;</p><p>False</p><p>actionid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>关连告警确认信息ID</p><p>&nbsp;</p><p>该表的相关数据查询语句：</p><ol><li>查询某个actions下的所有告警信息：select messsage from alerts where actionid=’actionid’；（需要从actions表中查询对应id并填入）</li></ol><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">applications_discovery表（空）</span></li></ol><p>应用自动发现表，与applications、<span style="color: rgb(0, 0, 0);">applications_prototype表相关联。</span></p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>application_discoveryid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>应用自动发现ID</p><p>False</p><p>applicationid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>应用ID</p><p>False</p><p>application_prototypeid</p><p>BIGINT</p><p>True</p><p>False</p><p>11</p><p>应用模型ID</p><p>False</p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>11</p><p>应用自动发现名称</p><p>False</p><p>Lastcheck</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>最后检查时间</p><p>False</p><p>ts_delete</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>删除时间</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">applications_prototype表</span></li></ol><p>应用模型表，与item表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>application_prototypeid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>应用模型ID</p><p>False</p><p>itemid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>监控项ID</p><p>False</p><p>templateid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>模板ID</p><p>False</p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>20</p><p>应用模型名称</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">applications_template表</span></li></ol><p>应用模板表，与applications表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>application_templateid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>应用模板ID</p><p>False</p><p>Applicationid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>应用ID</p><p>False</p><p>templateid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>模板ID</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">applications表</span></li></ol><p><span style="color: rgb(0, 0, 0);">应用实体表，表示一系列item的集合，与host关联。</span></p><p>&nbsp;</p><p><strong style="color: rgb(78, 161, 219);">PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>applicationid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>应用ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>hostid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>主机ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>应用名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>templateid</p><p>BIGINT</p><p>False</p><p>False</p><p>11</p><p>关联的模板</p><p>&nbsp;</p><p>该表的相关数据查询语句：</p><ol><li>查询已创建的应用总数：select count(distinct name) from applications;</li></ol><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">auditlog表</span></li></ol><p><span style="color: rgb(0, 0, 0);">记录对配置变更的日志，与auditlog、users表相关联。</span></p><p><br></p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>auditid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>audit日志的ID，对应一个变更操作</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>userid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>执行操作的用户ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>clock</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>操作时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>action</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>动作</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>resourcetype</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>资源类型</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>details</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>具体操作内容</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ip</p><p>VARCHAR</p><p>True</p><p>False</p><p>39</p><p>ip地址</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>resourceid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>资源id</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>resourcename</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>资源名称</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">auditlog_details表</span></li></ol><p><span style="color: rgb(0, 0, 0);">审计日志详情表，与auditlog表相关联。</span></p><p>&nbsp;</p><p><strong style="color: rgb(78, 161, 219);">PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>auditdetailid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>审计日志详情ID，一个变更操作包含一个或者多个字段变更的子操作</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>auditid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>关联的审计ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>table_name</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>表名</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>field_name</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>字段名</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>oldvalue</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>原值</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>newvalue</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>新值</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">autoreg_host表</span></li></ol><p><span style="color: rgb(0, 0, 0);">自动登记主机。</span></p><p>&nbsp;</p><p><strong style="color: rgb(78, 161, 219);">PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>autoreg_hostid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>自动登记的主机ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>proxy_hostid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>代理ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>host</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>主机名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>listen_ip</p><p>VARCHAR</p><p>True</p><p>False</p><p>39</p><p>监听ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>listen_port</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>监听端口</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>listen_dns</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>监听DNS</p><p>False</p><p>host_metadata</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>主机元数据</p><p><br></p><ol><li><span style="color: rgb(0, 0, 0);">conditions表</span></li></ol><p><span style="color: rgb(0, 0, 0);">动作触发条件表，用于保存Action触发的动作，与actions表相关联。</span></p><p>&nbsp;</p><p><strong style="color: rgb(78, 161, 219);">PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>conditionid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>条件ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>actionid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>动作ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>conditiontype</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详见如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>operator</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详见如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>值</p><p>False</p><p>Value2</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>值</p><p>&nbsp;</p><p><strong>conditiontype&nbsp;&nbsp;&nbsp;：</strong></p><p>支持共10种条件类型</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_HOST_GROUP'</span><span style="color: rgb(0, 0, 0);">, 0);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_HOST'</span><span style="color: rgb(0, 0, 0);">,1);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_TRIGGER'</span><span style="color: rgb(0, 0, 0);">,2);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_TRIGGER_NAME'</span><span style="color: rgb(0, 0, 0);">,3);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_TRIGGER_SEVERITY'</span><span style="color: rgb(0, 0, 0);">,4);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_TRIGGER_VALUE'</span><span style="color: rgb(0, 0, 0);">,5);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_TIME_PERIOD'</span><span style="color: rgb(0, 0, 0);">,6);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_DHOST_IP'</span><span style="color: rgb(0, 0, 0);">,7);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_DSERVICE_TYPE'</span><span style="color: rgb(0, 0, 0);">,8);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_DSERVICE_PORT'</span><span style="color: rgb(0, 0, 0);">,9);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_DSTATUS'</span><span style="color: rgb(0, 0, 0);">,10);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_DUPTIME'</span><span style="color: rgb(0, 0, 0);">,11);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_DVALUE'</span><span style="color: rgb(0, 0, 0);">,12);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_HOST_TEMPLATE'</span><span style="color: rgb(0, 0, 0);">,13);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_EVENT_ACKNOWLEDGED'</span><span style="color: rgb(0, 0, 0);">,14);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_APPLICATION'</span><span style="color: rgb(0, 0, 0);">,15);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_MAINTENANCE'</span><span style="color: rgb(0, 0, 0);">,16);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_NODE'</span><span style="color: rgb(0, 0, 0);">,17);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_DRULE'</span><span style="color: rgb(0, 0, 0);">,18);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_DCHECK'</span><span style="color: rgb(0, 0, 0);">,19);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_PROXY'</span><span style="color: rgb(0, 0, 0);">,20);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_DOBJECT'</span><span style="color: rgb(0, 0, 0);">,21);</span></p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_HOST_NAME'</span>,22);</p><p>&nbsp;</p><p><strong>Operator：</strong></p><p>&nbsp;</p><p>支持7种逻辑表达</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_OPERATOR_EQUAL'</span><span style="color: rgb(0, 0, 0);">,0);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_OPERATOR_NOT_EQUAL'</span><span style="color: rgb(0, 0, 0);">,1);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_OPERATOR_LIKE'</span><span style="color: rgb(0, 0, 0);">,2);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_OPERATOR_NOT_LIKE'</span><span style="color: rgb(0, 0, 0);">,3);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_OPERATOR_IN'</span><span style="color: rgb(0, 0, 0);">,4);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_OPERATOR_MORE_EQUAL'</span><span style="color: rgb(0, 0, 0);">,5);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'CONDITION_OPERATOR_LESS_EQUAL'</span><span style="color: rgb(0, 0, 0);">,6);</span></p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_OPERATOR_NOT_IN'</span>,7);</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">config</span></li></ol><p><span style="color: rgb(0, 0, 0);">系统配置表</span></p><p>&nbsp;</p><p><strong style="color: rgb(78, 161, 219);">PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>configid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>系统配置ID，一般只有1</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>refresh_unsupported</p><p>INT</p><p>True</p><p>False</p><p>20</p><p>不支持的更新时常</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>work_period</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>工作时间段</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>alert_usrgrpid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>告警的用户标识</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>event_expire</p><p>VARCHAR</p><p>True</p><p>False</p><p>32</p><p>事件有效期限</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>event_show_max</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>事件最大的显示长度</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>default_theme</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>默认主题</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>authentication_type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>支持内部认证，LADP认证，HTTP认证</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ldap_host</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>Ldap主机名</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ldap_port</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>Ldap端口</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ldap_base_dn</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>Ldap基本dns</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ldap_bind_dn</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>Ldap绑定的dns</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ldap_bind_password</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>Ldap绑定密码</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ldap_search_attribute</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>Ldap查找属性</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>dropdown_first_entry</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>下拉入口</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>dropdown_first_remember</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>下拉记录</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>discovery_groupid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>自动发现组id</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>max_in_table</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>表最大长度</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>search_limit</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>查找限制长度</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>severity_color_0</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>严重程度颜色</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>severity_color_1</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>严重程度颜色</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>severity_color_2</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>严重程度颜色</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>severity_color_3</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>严重程度颜色</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>severity_color_4</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>严重程度颜色</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>severity_color_5</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>严重程度颜色</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>severity_name_0</p><p>VARCHAR</p><p>True</p><p>False</p><p>32</p><p>严重程度名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>severity_name_1</p><p>VARCHAR</p><p>True</p><p>False</p><p>32</p><p>严重程度名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>severity_name_2</p><p>VARCHAR</p><p>True</p><p>False</p><p>32</p><p>严重程度名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>severity_name_3</p><p>VARCHAR</p><p>True</p><p>False</p><p>32</p><p>严重程度名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>severity_name_4</p><p>VARCHAR</p><p>True</p><p>False</p><p>32</p><p>严重程度名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>severity_name_5</p><p>VARCHAR</p><p>True</p><p>False</p><p>32</p><p>严重程度名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ok_period</p><p>VARCHAR</p><p>True</p><p>False</p><p>32</p><p>周期</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>blink_period</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>闪烁周期</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>problem_unack_color</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>非确认问题颜色</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>problem_ack_color</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>确认问题颜色</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ok_unack_color</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>&nbsp;</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ok_ack_color</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>&nbsp;</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>problem_unack_style</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>非确认的问题风格</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>problem_ack_style</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>确认的问题风格</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ok_unack_style</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>&nbsp;</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ok_ack_style</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>&nbsp;</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>snmptrap_logging</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>Snmp日志</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>server_check_interval</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>服务内部检查</p><p>False</p><p>hk_events_mode</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>事件模式</p><p>False</p><p>hk_events_trigger</p><p>VARCHAR</p><p>True</p><p>False</p><p>32</p><p>事件内部触发器</p><p>False</p><p>hk_events_internal</p><p>VARCHAR</p><p>True</p><p>False</p><p>32</p><p>内部事件</p><p>False</p><p>hk_events_discovery</p><p>VARCHAR</p><p>True</p><p>False</p><p>32</p><p>自动发现事件</p><p>False</p><p>hk_events_autoreg</p><p>INT</p><p>True</p><p>False</p><p>32</p><p>事件自动调整</p><p>False</p><p>hk_events_mode</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>服务模式</p><p>False</p><p>hk_services</p><p>VARCHAR</p><p>True</p><p>False</p><p>32</p><p>服务</p><p>False</p><p>hk_audit_mode</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>审计模式</p><p>False</p><p>hk_audit</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>审计</p><p>False</p><p>hk_sessions_mode</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>sessions模式</p><p>False</p><p>hk_sessions</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>sessions</p><p>False</p><p>hk_history_mode</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>历史模式</p><p>False</p><p>hk_history_global</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>全局历史变量</p><p>False</p><p>hk_history</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>历史变量</p><p>False</p><p>hk_trends_mode</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>动态模式</p><p>False</p><p>hk_trends_global</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>全局动态变量</p><p>False</p><p>hk_trends</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>动态变量</p><p>False</p><p>Default_inventory_mode</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>默认存放模式</p><p>&nbsp;</p><ol><li><span style="color: rgb(255, 0, 0);">corr_condition表(空)</span></li></ol><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>corr_conditionid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>&nbsp;</p><p>False</p><p>correlationid</p><p>&nbsp;</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>&nbsp;</p><p>False</p><p>type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>：</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(255, 0, 0);">corr_condition_group表(空)</span></li></ol><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>corr_conditionid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>&nbsp;</p><p>False</p><p>operator</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>&nbsp;</p><p>False</p><p>groupid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(255, 0, 0);">corr_condition_tag表(空)</span></li></ol><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>corr_conditionid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>&nbsp;</p><p>False</p><p>tag</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(255, 0, 0);">corr_condition_tagpair表(空)</span></li></ol><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>corr_conditionid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>&nbsp;</p><p>False</p><p>oldtag</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>&nbsp;</p><p>False</p><p>newtag</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(255, 0, 0);">corr_condition_tagvalue表(空)</span></li></ol><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>corr_conditionid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>&nbsp;</p><p>False</p><p>tag</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>&nbsp;</p><p>False</p><p>operator</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>&nbsp;</p><p>False</p><p>value</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(255, 0, 0);">Corr_operation表(空)</span></li></ol><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>corr_conditionid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>&nbsp;</p><p>False</p><p>correlationid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>&nbsp;</p><p>False</p><p>type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(255, 0, 0);">correlation表(空)</span></li></ol><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>correlationid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>&nbsp;</p><p>False</p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>&nbsp;</p><p>False</p><p>description</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>&nbsp;</p><p>False</p><p>evaltype</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>&nbsp;</p><p>False</p><p>status</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>&nbsp;</p><p>False</p><p>formula</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">dashboard表</span></li></ol><p>仪表板信息记录表。与users表相关联</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>dashboardid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>仪表盘ID</p><p>False</p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>仪表盘名称</p><p>False</p><p>userid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>用户ID</p><p>False</p><p>private</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>私人配置</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">Dashboard_user表</span></li></ol><p>仪表板用户信息记录表。与dashboard、users表相关联</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>dashboard_userid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>仪表盘用户ID</p><p>False</p><p>Dashboardid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>仪表盘ID</p><p>False</p><p>userid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>用户ID</p><p>False</p><p>permission</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>权限</p><p>&nbsp;</p><ol><li><span style="color: rgb(255, 0, 0);">Dashboard_usrgrp表</span></li></ol><p><span style="color: rgb(255, 0, 0);">仪表板用户信息记录表</span>。与dashboard、users表相关联</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>dashboard_usrgrpid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>&nbsp;</p><p>False</p><p>Dashboardid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>仪表盘ID</p><p>False</p><p>userid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>用户ID</p><p>False</p><p>permission</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>权限</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">dbversion表</span></li></ol><p>数据库版本信息记录表。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>False</p><p>mandatory</p><p>INT</p><p>True</p><p>True</p><p>11</p><p>指示标志</p><p>False</p><p>optional</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>选项</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">dchecks表</span></li></ol><p><span style="color: rgb(0, 0, 0);">自动发现的检查项表。自动发现规则配置的每一个的检查项（如FTP等服务）都会生成一个检查实例。程序会根据检查项进行自动发现。</span></p><p>&nbsp;</p><p><strong style="color: rgb(78, 161, 219);">PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>dcheckid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>自动发现检查ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>druleid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>规则ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详见如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>key_</p><p>VARCHAR</p><p>True</p><p>False</p><p>512</p><p>若有agent类型，则需要填写key，以获取信息（一般为10050端口）</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>snmp_community</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>snmp相关配置</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ports</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>检查的传输层端口</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>snmpv3_securityname</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>snmp安全名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>snmpv3_securitylevel</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>snmp安全级别</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>snmpv3_authpassphrase</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>snmp认证密码</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>snmpv3_privpassphrase</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>snmp私有密码</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>uniq</p><p>INTEGER</p><p>True</p><p>False</p><p>&nbsp;</p><p>区分host的标识</p><p>0：ip地址</p><p>1：system.name</p><p>False</p><p>snmpv3_authprotocol</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>snmp认证协议</p><p>False</p><p>snmpv3_privprotocol</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>Snmp私有协议</p><p>&nbsp;</p><p><strong>Type：</strong></p><p>define(<span style="color: rgb(0, 0, 192);">'SVC_SSH'</span><span style="color: rgb(0, 0, 0);">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'SVC_LDAP'</span><span style="color: rgb(0, 0, 0);">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'SVC_SMTP'</span><span style="color: rgb(0, 0, 0);">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'SVC_FTP'</span><span style="color: rgb(0, 0, 0);">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'SVC_HTTP'</span><span style="color: rgb(0, 0, 0);">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'SVC_POP'</span><span style="color: rgb(0, 0, 0);">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'SVC_NNTP'</span><span style="color: rgb(0, 0, 0);">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'SVC_IMAP'</span><span style="color: rgb(0, 0, 0);">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'SVC_TCP'</span><span style="color: rgb(0, 0, 0);">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'SVC_AGENT'</span><span style="color: rgb(0, 0, 0);">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'SVC_SNMPv1'</span><span style="color: rgb(0, 0, 0);">,&nbsp;&nbsp;&nbsp;10);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'SVC_SNMPv2c'</span><span style="color: rgb(0, 0, 0);">,&nbsp;&nbsp;&nbsp;11);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'SVC_ICMPPING'</span><span style="color: rgb(0, 0, 0);">,&nbsp;&nbsp;&nbsp;12);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'SVC_SNMPv3'</span><span style="color: rgb(0, 0, 0);">,&nbsp;&nbsp;&nbsp;13);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'SVC_HTTPS'</span><span style="color: rgb(0, 0, 0);">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;14);</span></p><p>define(<span style="color: rgb(0, 0, 192);">'SVC_TELNET'</span>,&nbsp;&nbsp;&nbsp;15);</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">dhosts表（空）</span></li></ol><p><span style="color: rgb(0, 0, 0);">自动发现后的主机，会被保存到这张表，与drules表相关联。</span></p><p><br></p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>dhostid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>主机ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>druleid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>规则ID，drule表</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>status</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>当前主机状态</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>lastup</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>状态正常的最后时间，unix时间戳</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>lastdown</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>状态不正常的最后时间，unix时间戳</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">drules表</span></li></ol><p><span style="color: rgb(0, 0, 0);">自动发现规则表，用于配置在一定网络范围内自动发现主机和服务。</span></p><p>&nbsp;</p><p><strong style="color: rgb(78, 161, 219);">PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>druleid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>规则ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>proxy_hostid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>代理ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>规则名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>iprange</p><p>VARCHAR</p><p>True</p><p>False</p><p>2048</p><p>IP地址范围，支持三种格式：</p><p>Single IP: 192.168.1.33</p><p>Range of IP addresses: 192.168.1.1-255</p><p>IP mask: 192.168.4.0/24</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>delay</p><p>INTEGER</p><p>True</p><p>False</p><p>255</p><p>自动发现操作的执行间隔</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>nextcheck</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>下个检查ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>status</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>是否启用：</p><p>1：未启用</p><p>0：启用</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">dservices表（空）</span></li></ol><p><span style="color: rgb(0, 0, 0);">自动发现服务实例表，用于记录自动发现服务实例，与dhost类似。与dhosts、dchecks表相关联。</span></p><p>&nbsp;</p><p><strong style="color: rgb(78, 161, 219);">PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>dserviceid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>服务实例ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>dhostid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>关联的dhostid</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>返回的值</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>port</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>被发现的服务端口</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>status</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>网络服务状态</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>lastup</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>最后正常状态时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>lastdown</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>最后不正常状态时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>dcheckid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>关联的检查实例ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ip</p><p>VARCHAR</p><p>True</p><p>False</p><p>39</p><p>该网络服务实例的IP地址</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>dns</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>dns地址</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">escalations表（空）</span></li></ol><p><span style="color: rgb(0, 0, 0);">在一个动作（action）中，一系列的执行操作场景，包括通知或者执行远程命令。与actions、triggers、events、items表相关联。</span></p><p>&nbsp;</p><p><strong style="color: rgb(78, 161, 219);">PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>escalationid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>升级操作ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>actionid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>动作ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>triggerid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>触发器ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>eventid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>事件ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>r_eventid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>&nbsp;</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>nextcheck</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>下一个检查的事件，unix事件戳</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>esc_step</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>升级步骤</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>status</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>状态：是否启用</p><p>False</p><p>itemid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>监控项ID</p><p>False</p><p>acknowledgeid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>告警状态确认ID</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">event_recovery表</span></li></ol><p><span style="color: rgb(0, 0, 0);">该表记录了事件恢复的全部数据信息，与user、correlation、events表相关联。</span></p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>eventid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>事件ID</p><p>False</p><p>r_eventid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>&nbsp;</p><p>False</p><p>c_eventid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>&nbsp;</p><p>False</p><p>correlationid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>数据统计ID</p><p>False</p><p>userid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>用户ID</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">event_tag表（空）</span></li></ol><p><span style="color: rgb(0, 0, 0);">该表记录了事件的唯一标识信息，与events表相关联。</span></p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>eventtagid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>事件标识ID</p><p>False</p><p>eventid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>事件ID</p><p>False</p><p>tag</p><p>VARCHAR</p><p>False</p><p>False</p><p>255</p><p>唯一标识</p><p>False</p><p>value</p><p>VARCHAR</p><p>False</p><p>False</p><p>255</p><p>值</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">events表</span></li></ol><p><span style="color: rgb(0, 0, 0);">事件表，与acknowledge表相关联。</span></p><p>&nbsp;</p><p><strong style="color: rgb(78, 161, 219);">PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>eventid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>事件ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>source</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>object</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>&nbsp;</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>objectid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>对应不同的object类型的ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>clock</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>事件产生的时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>值</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>acknowledgeid</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>是否已经确认</p><p>0为未确认</p><p>1为确认</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ns</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>&nbsp;</p><p>&nbsp;</p><p><strong>Object：</strong></p><p>表示事件来源，有三个：</p><p>define(<span style="color: rgb(0, 0, 192);">'EVENT_SOURCE_TRIGGERS'</span><span style="color: rgb(0, 0, 0);">,0);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'EVENT_SOURCE_DISCOVERY'</span><span style="color: rgb(0, 0, 0);">,1);</span></p><p>define(<span style="color: rgb(0, 0, 192);">'EVENT_SOURCE_AUTO_REGISTRATION'</span>,2);</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">expressions表</span></li></ol><p><span style="color: rgb(0, 0, 0);">表达式相关信息表，与regexps表相关联。</span></p><p>&nbsp;</p><p><strong style="color: rgb(78, 161, 219);">PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>expressionid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>表示式ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>regexpid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>正则表达式ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>expression</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>表达式</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>expression_type</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>exp_delimiter</p><p>VARCHAR</p><p>True</p><p>False</p><p>1</p><p>表达式分隔符</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>case_sensitive</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>是否大小写敏感</p><p>&nbsp;</p><p><strong>expression_type：</strong></p><p>表达式类型：</p><p>define(<span style="color: rgb(0, 0, 192);">'EXPRESSION_TYPE_INCLUDED'</span><span style="color: rgb(0, 0, 0);">,0);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'EXPRESSION_TYPE_ANY_INCLUDED'</span><span style="color: rgb(0, 0, 0);">,1);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'EXPRESSION_TYPE_NOT_INCLUDED'</span><span style="color: rgb(0, 0, 0);">,2);</span></p><p><span style="color: rgb(0, 0, 0);">define(</span><span style="color: rgb(0, 0, 192);">'EXPRESSION_TYPE_TRUE'</span><span style="color: rgb(0, 0, 0);">,3);</span></p><p>define(<span style="color: rgb(0, 0, 192);">'EXPRESSION_TYPE_FALSE'</span>,4);</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">functions表</span></li></ol><p><span style="color: rgb(0, 0, 0);">对trigger的表达式进行分解。与items、triggers表相关联。</span></p><p>&nbsp;</p><p><strong style="color: rgb(78, 161, 219);">PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>functionid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>函数ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>itemid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>监控项ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>triggerid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>触发器ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>function</p><p>VARCHAR</p><p>True</p><p>False</p><p>12</p><p>函数名称，包括diff，last，min等</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>parameter</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>函数参数</p><ol><li><span style="color: rgb(0, 0, 0);">globalmacro表</span></li></ol><p><span style="color: rgb(0, 0, 0);">全局宏定义信息记录表。</span></p><p>&nbsp;</p><p><strong style="color: rgb(78, 161, 219);">PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>globalmacroid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>全局宏ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>macro</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>宏</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>值</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">globalvars表（空）</span></li></ol><p><span style="color: rgb(0, 0, 0);">全局变量（与snmp相关）信息记录表。</span></p><p>&nbsp;</p><p><strong style="color: rgb(78, 161, 219);">PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>globalvarid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>全局变量ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>snmp_lastsize</p><p>INT</p><p>True</p><p>False</p><p>20</p><p>Snmp最后的大小</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">graph_discovery表</span></li></ol><p><span style="color: rgb(0, 0, 0);">图形发现信息保存表。与graphs表相关联。</span></p><p>&nbsp;</p><p><strong style="color: rgb(78, 161, 219);">PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p><span style="color: rgb(78, 161, 219);">True</span></p><p>graphid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>图形ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>parent_graphid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>上级图形ID</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">graph_theme表</span></li></ol><p>图形样式设置表，每种样式一条记录，目前有4种。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>graphthemeid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>图形样式ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>theme</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>主题名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>backgroundcolor</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>背景颜色</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>graphcolor</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>图形颜色</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>gridcolor</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>网格颜色</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>maingridcolor</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>主要网格颜色</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>gridbordercolor</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>网格边界颜色</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>textcolor</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>文字颜色</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>highlightcolor</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>高亮颜色</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>leftpercentilecolor</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>左边百分比颜色</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>rightpercentilecolor</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>右边百分比颜色</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>nonworktimecolor</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>非工作时间块颜色</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">graphs表</span></li></ol><p>图形实例表，用于保存图形实例的配置。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>graphid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>图形实例表</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>图形名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>width</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>宽</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>height</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>高</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>yaxismin</p><p>DOUBLE</p><p>True</p><p>False</p><p>16</p><p>Y轴最小值</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>yaxismax</p><p>DOUBLE</p><p>True</p><p>False</p><p>16</p><p>Y轴最大值</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>templateid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>模板ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>show_work_period</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>是否显示工作时间</p><p>1：是</p><p>0：否</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>show_triggers</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>是否显示触发器</p><p>1：是</p><p>0：否</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>graphtype</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>show_legend</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>是否显示图例</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>show_3d</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>是否显示3D</p><p>1：是</p><p>0：否</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>percent_left</p><p>DOUBLE</p><p>True</p><p>False</p><p>16</p><p>向左的百分比</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>percent_right</p><p>DOUBLE</p><p>True</p><p>False</p><p>16</p><p>向右的百分比</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ymin_type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ymax_type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下:</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ymin_itemid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>Y轴最小监控项ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ymax_itemid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>Y轴最大监控项ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>flags</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>标识</p><p>&nbsp;</p><p><strong>&nbsp;&nbsp;graphtype：</strong></p><p>图像类型，目前支持以下几种：</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_TYPE_NORMAL'</span>, 0);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_TYPE_STACKED'</span>,1);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_TYPE_PIE'</span>，2);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_TYPE_EXPLODED'</span>,3);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_TYPE_3D'</span>,4);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_TYPE_3D_EXPLODED'</span>,5);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_TYPE_BAR'</span>,6);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_TYPE_COLUMN'</span>,7);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_TYPE_BAR_STACKED'</span>,8);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_TYPE_COLUM N_STACKED'</span>,9);</p><p>&nbsp;</p><p><strong>ymin_type：</strong></p><p>Y轴最小值类型：</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_YAXIS_TYPE_CALCULATED'</span>,&nbsp;&nbsp;&nbsp;0);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_YAXIS_TYPE_FIXED'</span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_YAXIS_TYPE_ITEM_VALUE'</span>,&nbsp;&nbsp;&nbsp;2);</p><p>&nbsp;</p><p><strong>ymax_type：</strong></p><p>Y轴最大值类型：</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_YAXIS_TYPE_CALCULATED'</span>,&nbsp;&nbsp;&nbsp;0);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_YAXIS_TYPE_FIXED'</span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_YAXIS_TYPE_ITEM_VALUE'</span>,&nbsp;&nbsp;&nbsp;2);</p><ol><li><span style="color: rgb(0, 0, 0);">graphs_items表</span></li></ol><p>图形-监控项关联表，一个图形包含多个监控项，在此表记录关联关系，</p><p>与graphs、items表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>gitemid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>图形-监控项关联ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>graphid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>图形ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>itemid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>监控项ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>drawtype</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>sortorder</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>排序</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>color</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>颜色</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>yaxisside</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>Y轴边界起点</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>calc_fnc</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>类型</p><p>&nbsp;</p><p><strong>drawtype：</strong></p><p>绘画类型：</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_LINE'</span>, 0);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_FILLED_REGION'</span>, 1);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_BOLD_LINE'</span>, 2);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_DOT'</span>, 3);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_DASHED_LINE'</span>,4);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_GRADIENT_LINE'</span>, 5);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_BOLD_DOT'</span>, 6);</p><p>&nbsp;</p><p><strong>calc_fnc：</strong></p><p>计算函数，支持以下几种：</p><p>define(<span style="color: rgb(0, 0, 192);">'CALC_FNC_MIN'</span>, 1);</p><p>define(<span style="color: rgb(0, 0, 192);">'CALC_FNC_AVG'</span>, 2);</p><p>define(<span style="color: rgb(0, 0, 192);">'CALC_FNC_MAX'</span>, 4);</p><p>define(<span style="color: rgb(0, 0, 192);">'CALC_FNC_ALL'</span>, 7);</p><p>define(<span style="color: rgb(0, 0, 192);">'CALC_FNC_LST'</span>, 9);</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">group_discovery表（空）</span></li></ol><p>组自动发现表，与graphs、groups表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>groupid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>组ID</p><p>False</p><p>parent_group_prototypeid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>上级组模型ID</p><p>False</p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>名称</p><p>False</p><p>lastcheck</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>最后检查时间：</p><p>False</p><p>ts_delete</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>删除时间</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">group_prototype表</span></li></ol><p>组模型表，与hosts、groups表相关联。。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>group_prototypeid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>组模型ID</p><p>False</p><p>hostid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>主机ID</p><p>False</p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>名称</p><p>False</p><p>groupid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>组ID</p><p>False</p><p>templateid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>模板ID</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">groups表</span></li></ol><p>主机组表</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>groupid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>主机组ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>主机组名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>internal</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>是否内部配置，若是外部发现，则为非内部</p><p>define(<span style="color: rgb(0, 0, 192);">'ZBX_NOT_INTERNAL_GROUP'</span>,&nbsp;&nbsp;&nbsp;0);</p><p>define(<span style="color: rgb(0, 0, 192);">'ZBX_INTERNAL_GROUP'</span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1);</p><p>False</p><p>flags</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>唯一标识</p><p>&nbsp;</p><p>该表的相关数据查询语句：</p><ol><li>查询所有监控组的数量：select count(name) from groups;</li></ol><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">history表</span></li></ol><p>浮点历史数据表。与items表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>False</p><p>itemid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>监控项ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>clock</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>收集时间，UNIX时间戳+</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value</p><p>Value</p><p>True</p><p>False</p><p>16</p><p>值</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ns</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">history_log表</span></li></ol><p>历史日志表，与itmes表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>itemid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>监控项ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>clock</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>收集时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>timestamp</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>时间戳</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>source</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>数据源</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>severity</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>严重度</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>值</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>logeventid</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>只作关联windows的事件日志ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ns</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">history_str表</span></li></ol><p>字符串的历史数据表。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>False</p><p>itemid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>监控项ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>clock</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>unix时间戳，监控数据采集时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>监控的值，不能超过255个字符</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ns</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">history_text表（空）</span></li></ol><p>长文本历史数据表，支持255字符以上的文本，与items表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>itemid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>监控项ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>clock</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>时间戳</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>字符串值</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ns</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">history_uint表</span></li></ol><p>长整型历史数据表，与items表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>False</p><p>itemid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>监控项ID</p><p>False</p><p>clock</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>时间戳</p><p>False</p><p>value</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>字符串值</p><p>False</p><p>ns</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">host_discovery表</span></li></ol><p>主机自动发现表，与items表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>False</p><p>hostid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>主机ID</p><p>False</p><p>parent_hostid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>父主机ID</p><p>False</p><p>parent_itemid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>父监控项ID</p><p>False</p><p>host</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>主机</p><p>False</p><p>lastcheck</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>最后检查时间：</p><p>False</p><p>ts_delete</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>删除时间</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">host_inventory表（空）</span></li></ol><p>主机资产表，很少用到（分为自动发现和手工填写两种方式）</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>hostid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>主机ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>inventory_mode</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>资产模式</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>type</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>类型</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>type_full</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>类型全名</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>alias</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>别名</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>os</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>系统</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>os_full</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>系统全名</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>os_short</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>系统简称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>serialno_a</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>序列号</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>serialno_b</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>序列号</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>tag</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>标签</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>asset_tag</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>资产标签</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>macaddress_a</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>MAC地址</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>macaddress_b</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>MAC地址</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>hardware</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>硬件</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>hardware_full</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>硬件全称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>software</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>软件</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>software_full</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>软件全称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>software_app_a</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>软件应用</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>software_app_b</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>软件应用</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>software_app_c</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>软件应用</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>software_app_d</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>软件应用</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>software_app_e</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>软件应用</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>contact</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>关联</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>location</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>位置</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>location_lat</p><p>VARCHAR</p><p>True</p><p>False</p><p>16</p><p>起始位置</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>location_lon</p><p>VARCHAR</p><p>True</p><p>False</p><p>16</p><p>终止位置</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>notes</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>注释</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>chassis</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>底盘号</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>model</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>模式</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>hw_arch</p><p>VARCHAR</p><p>True</p><p>False</p><p>32</p><p>硬件信息</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>vendor</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>供应商</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>contract_number</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>合同编号</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>installer_name</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>安装者名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>deployment_status</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>调度状态</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>url_a</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>url</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>url_b</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>url</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>url_c</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>url</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>host_networks</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>主机网络</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>host_netmask</p><p>VARCHAR</p><p>True</p><p>False</p><p>39</p><p>主机网络掩码</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>host_router</p><p>VARCHAR</p><p>True</p><p>False</p><p>39</p><p>主机路由</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>oob_ip</p><p>VARCHAR</p><p>True</p><p>False</p><p>39</p><p>Oob ip地址</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>oob_netmask</p><p>VARCHAR</p><p>True</p><p>False</p><p>39</p><p>Oob 网络掩码</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>oob_router</p><p>VARCHAR</p><p>True</p><p>False</p><p>39</p><p>Oob 路由</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>date_hw_purchase</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>硬件维保日期</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>date_hw_install</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>硬件安装日期</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>date_hw_expiry</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>硬件保修到期日期</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>date_hw_decomm</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>硬件报废日期</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>site_address_a</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>地址</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>site_address_b</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>地址</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>site_address_c</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>地址</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>site_city</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>城市</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>site_state</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>国家</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>site_country</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>城镇</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>site_zip</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>邮政编码</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>site_rack</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>Rack</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>site_notes</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>注释</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>poc_1_name</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>名字</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>poc_1_email</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>邮箱</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>poc_1_phone_a</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>电话号码</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>poc_1_phone_b</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>电话号码</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>poc_1_cell</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>移动电话</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>poc_1_screen</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>Poc屏幕</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>poc_1_notes</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>Poc 注释</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>poc_2_name</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>Poc名字</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>poc_2_email</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>Poc 邮箱地址</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>poc_2_phone_a</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>Poc 电话号码</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>poc_2_phone_b</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>Poc 电话号码</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>poc_2_cell</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>Poc 移动电话</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>poc_2_screen</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>Poc屏幕</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>poc_2_notes</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>Poc 注释</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">hostmacro表</span></li></ol><p>主机宏定义表，与globalmacro一起在common.macro.php中被转化，与hosts表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>hostmacroid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>主机宏定义ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>hostid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>主机ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>macro</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>宏名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>宏值</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">hosts表</span></li></ol><p>用于保存主机实例（包含模板等）。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>hostid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>主机ID，zabbix中，主机、模板都使用该表记录，唯一区别是status字段</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>proxy_hostid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>该主机的代理的ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>host</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>host的名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>status</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>host的状态，用以区分主机、模板、代理</p><p>0：正在被监控的主机</p><p>1：未被监控的主机</p><p>3：模板</p><p>4：启用代理模式的主机</p><p>5：未启用代理模式的主机</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>disable_until</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>禁止主机监控到什么时候</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>error</p><p>VARCHAR</p><p>True</p><p>False</p><p>2048</p><p>主机错误信息</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>available</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>1为可用</p><p>0为不可用</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>errors_from</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>主机监控发生错误的时间戳</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>lastaccess</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>最后访问时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ipmi_authtype</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>IPMI的认证方式：</p><p>-1：默认的认证方式</p><p>0：无认证方式</p><p>1：MD2认证</p><p>2：MD5加密认证</p><p>4：直接认证</p><p>5：OEM认证</p><p>6：RMCP_PLUS认证方式</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ipmi_privilege</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>IPMI的授权</p><p>1：回调权限</p><p>2：用户权限</p><p>3：操作权限</p><p>4：管理权限</p><p>5：OEM权限</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ipmi_username</p><p>VARCHAR</p><p>True</p><p>False</p><p>16</p><p>IPMI认证的用户名</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ipmi_password</p><p>VARCHAR</p><p>True</p><p>False</p><p>20</p><p>IPMI认证的密码</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ipmi_disable_until</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>IPMI不可用直到什么时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ipmi_available</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>IPMI什么时间可用</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>snmp_disable_until</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>SNMP不可用直到什么时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>snmp_available</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>SNMP可用时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>maintenanceid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>维护状态ID，表示该主机进入维护状态，监控停止</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>maintenance_status</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>维护状态</p><p>0：正常</p><p>1：维护</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>maintenance_type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>维护类型：</p><p>0：继续收集数据</p><p>1：不在收集数据</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>maintenance_from</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>维护开始时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ipmi_errors_from</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>IPMI错误开始时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>snmp_errors_from</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>SNMP错误开始时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ipmi_error</p><p>VARCHAR</p><p>True</p><p>False</p><p>2048</p><p>IPMI错误信息</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>snmp_error</p><p>VARCHAR</p><p>True</p><p>False</p><p>2048</p><p>SNMP错误信息</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>jmx_disable_until</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>java扩展功能开启</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>jmx_available</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>java扩展功能是够可用</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>jmx_errors_from</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>java扩展功能的错误来源</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>jmx_error</p><p>VARCHAR</p><p>True</p><p>False</p><p>2048</p><p>Javaz错误信息</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>host的名称</p><p>False</p><p>flages</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>标识</p><p>False</p><p>templateid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>模板ID</p><p>False</p><p>description</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>描述</p><p>False</p><p>tls_connect</p><p>INT</p><p>TRUE</p><p>False</p><p>11</p><p>tls连接</p><p>False</p><p>tls_accept</p><p>INT</p><p>TRUE</p><p>False</p><p>11</p><p>tls许可</p><p>False</p><p>tls_issuer</p><p>VARCHAR</p><p>TRUE</p><p>False</p><p>1024</p><p>tls发行人</p><p>False</p><p>tls_subject</p><p>VARCHAR</p><p>TRUE</p><p>False</p><p>1024</p><p>tls 项目名</p><p>False</p><p>tls_psk_identity</p><p>VARCHAR</p><p>TRUE</p><p>False</p><p>128</p><p>tls_psk身份认证</p><p>False</p><p>tls_psk</p><p>VARCHAR</p><p>TRUE</p><p>False</p><p>512</p><p>tls _psk</p><p>&nbsp;</p><p>该表的相关数据查询语句：</p><ol><li>查询所有主机的数量：select count(host) from hosts;</li><li>查询所有正在被监控的主机的数量：select count(host) from hosts where status=’0’;</li><li>查询所有未被监控的主机的数量：select count(host) from hosts where status=’1’;</li><li>查询所有模板的数量：select count(host) from hosts where status=’3’;</li></ol><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">hosts_groups表</span></li></ol><p>将主机host表与主机组group表进行关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>hostgroupid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>主机-主机组关联ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>hostid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>主机ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>groupid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>组ID</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">hosts_templates表</span></li></ol><p>主机-模板关联表，主机和模板都保存在host表里面，用status区分。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>hosttemplateid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>主机-模板关联ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>hostid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>主机ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>templateid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>模板ID，也是关联到HOST主机上</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">housekeeper表（空）</span></li></ol><p>数据清除管理设置表。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>housekeeperid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>管理ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>tablename</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>表名</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>field</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>域</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>值</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">httpstep表（空）</span></li></ol><p>http监控步骤记录表</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>httpstepid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>http监控步骤ID</p><p>False</p><p>httptestid</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>http测试ID</p><p>False</p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>名称</p><p>False</p><p>no</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>序号</p><p>False</p><p>url</p><p>VARCHAR</p><p>True</p><p>False</p><p>2048</p><p>url</p><p>False</p><p>timeout</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>超时时间</p><p>False</p><p>posts</p><p>VARCHAR</p><p>True</p><p>False</p><p>0</p><p>传输方式post</p><p>False</p><p>required</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>需求</p><p>False</p><p>status_codes</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>状态码</p><p>False</p><p>follow_redirects</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>重定向</p><p>False</p><p>retrieve_mode</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>恢复模式</p><p>False</p><p>post_type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>传输类型</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">httpstep_field表（空）</span></li></ol><p>http监控步骤-域记录表。与httpstep表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>httpstep_fieldid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>http监控步骤域ID</p><p>False</p><p>httpstepid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>http监控步骤ID</p><p>False</p><p>type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>类型</p><p>False</p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>名称</p><p>False</p><p>value</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>值</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">httpstepitem表（空）</span></li></ol><p>WEB步骤-监控项关联表，每新建一个web步骤，都会在items表中新建Download ，与httpstep、items表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>httpstepitemid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>web监控-监控项的关联ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>httpstepid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>http监控步骤ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>itemid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>对应items表的itemsID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>type</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p>&nbsp;</p><p><strong>Type：</strong></p><p>监控项类型，0,1,2,3,4</p><p><u>define</u>(<span style="color: rgb(0, 0, 192);">'HTTPSTEP_ITEM_TYPE_RSPCODE'</span>,0);</p><p>define(<span style="color: rgb(0, 0, 192);">'HTTPSTEP_ITEM_TYPE_TIME'</span>,1);</p><p>define(<span style="color: rgb(0, 0, 192);">'HTTPSTEP_ITEM_TYPE_IN'</span>,2);</p><p>define(<span style="color: rgb(0, 0, 192);">'HTTPSTEP_ITEM_TYPE_LASTSTEP'</span>,3);</p><p>define(<span style="color: rgb(0, 0, 192);">'HTTPSTEP_ITEM_TYPE_LASTERROR'</span>,4);</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">httptest表（空）</span></li></ol><p>HTTP监控场景配置表，对每一个WEB监控的场景新增一条httptest的记录。</p><p>与applications表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>httptestid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>WEB监控场景ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>WEB监控场景的名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>applicationid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>应用的ID,关联application表的ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>nextcheck</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>下次检查时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>delay</p><p>INTEGER</p><p>True</p><p>False</p><p>255</p><p>检查间隔，秒</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>status</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>状态：</p><p>1：开启</p><p>0：关闭</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>agent</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>使用的浏览器，基本支持所有类型</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>authentication</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下:</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>http_user</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>认证的用户名</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>http_password</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>认证的密码</p><p>False</p><p>templateid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>模板ID</p><p>False</p><p>http_proxy</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>http代理</p><p>False</p><p>retries</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>再次尝试间隔</p><p>False</p><p>ssl_cert_file</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>Ssl认证文件</p><p>False</p><p>ssl_key_file</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>Ssl密钥文件</p><p>False</p><p>ssl_key_password</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>Ssl密钥密码</p><p>False</p><p>verify_peer</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>逐一认证</p><p>False</p><p>verify_host</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>认证主机</p><p><strong>&nbsp;</strong></p><p><strong>Authentication:</strong>是否认证需要认证，或认证类型：</p><p>0：不需要认证</p><p>1：基本认证</p><p>2：NTML认证</p><p>define(<span style="color: rgb(0, 0, 192);">'HTTPTEST_AUTH_NONE'</span>,0);</p><p>define(<span style="color: rgb(0, 0, 192);">'HTTPTEST_AUTH_BASIC'</span>,1);</p><p>define(<span style="color: rgb(0, 0, 192);">'HTTPTEST_AUTH_NTLM'</span>,2);</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">httptest_field表（空）</span></li></ol><p>http监控测试-域记录表。与httpstep表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>httptest_fieldid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>http监控测试域ID</p><p>False</p><p>httptestid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>http监控测试ID</p><p>False</p><p>type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>类型</p><p>False</p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>名称</p><p>False</p><p>value</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>值</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">httptestitem表（空）</span></li></ol><p>&nbsp;&nbsp;&nbsp;HTTP场景-监控项关联表。与httptest、items表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>httptestitemid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>HTTP监控场景-监控项关联ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>httptestid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>HTTP监控场景ID，httptest表</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>itemid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>监控项ID，关联items表</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p>&nbsp;</p><p><strong>Type：</strong></p><p>监控项类型，0,1,2,3,4</p><p><u>define</u>(<span style="color: rgb(0, 0, 192);">'HTTPSTEP_ITEM_TYPE_RSPCODE'</span>,0);</p><p>define(<span style="color: rgb(0, 0, 192);">'HTTPSTEP_ITEM_TYPE_TIME'</span>,1);</p><p>define(<span style="color: rgb(0, 0, 192);">'HTTPSTEP_ITEM_TYPE_IN'</span>, 2);</p><p>define(<span style="color: rgb(0, 0, 192);">'HTTPSTEP_ITEM_TYPE_LASTSTEP'</span>, 3);</p><p>define(<span style="color: rgb(0, 0, 192);">'HTTPSTEP_ITEM_TYPE_LASTERROR'</span>,4);</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">icon_map表（空）</span></li></ol><p>图标映射表，用于映射图标和图像（images）之间的关系。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>iconmapid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>映射ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>映射名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>default_iconid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>默认的图标ID，关联到images表的ID，即实际使用还是images</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">icon_mapping表（空）</span></li></ol><p>图标映射表。与iconmap表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>iconmappingid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>图形映射ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>iconmapid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>映射ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>iconid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>图形ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>inventory_link</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>资产链接</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>expression</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>表达式</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>sortorder</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>次序排序</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">ids表</span></li></ol><p>索引表，标识表名的主键下一个值，或者说主键最大值+1。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p><span style="color: rgb(78, 161, 219);">True</span></p><p>table_name</p><p>VARCHAR</p><p>True</p><p>True</p><p>64</p><p>表名</p><p><span style="color: rgb(78, 161, 219);">True</span></p><p>field_name</p><p>VARCHAR</p><p>True</p><p>True</p><p>64</p><p>该表的主键的字段名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>nextid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>主键最大值+1,即主键下一个值</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">images表</span></li></ol><p>该表保存图像，使用BLOB类型保存，该表在安装zabbix的时候会自动导入</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>imageid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>图形ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>imagetype</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>图像名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>image</p><p>BLOB</p><p>True</p><p>False</p><p>0</p><p>图像，使用二进制存储</p><p>&nbsp;</p><p><strong>Imagetype：</strong>图像的类型</p><p>define(<span style="color: rgb(0, 0, 192);">'IMAGE_TYPE_UNKNOWN'</span>, 0);</p><p>define(<span style="color: rgb(0, 0, 192);">'IMAGE_TYPE_ICON'</span>, 1);</p><p>define(<span style="color: rgb(0, 0, 192);">'IMAGE_TYPE_BACKGROUND'</span>, 2);</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">interface表</span></li></ol><p>主机监控接口表，用于标示被监控主机的IP和端口，与hosts表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>interfaceid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>主机接口ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>hostid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>主机ID，关联hosts</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>main</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下:</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>useip</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ip</p><p>VARCHAR</p><p>True</p><p>False</p><p>39</p><p>IP地址</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>dns</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>域名字符串</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>port</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>服务端口，TCP端口</p><p>False</p><p>bulk</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>大小</p><p>&nbsp;</p><p><strong>Main：</strong>是否主要端口：</p><p>1为主要，0为次要</p><p>define(<span style="color: rgb(0, 0, 192);">'INTERFACE_SECONDARY'</span>,0);</p><p>define(<span style="color: rgb(0, 0, 192);">'INTERFACE_PRIMARY'</span>，1);</p><p>&nbsp;</p><p><strong>type：</strong>每个主机的服务端口/接口可以分几种类型：</p><p>define(<span style="color: rgb(0, 0, 192);">'INTERFACE_TYPE_ANY'</span>,-1);</p><p>define(<span style="color: rgb(0, 0, 192);">'INTERFACE_TYPE_UNKNOWN'</span>,0);</p><p>define(<span style="color: rgb(0, 0, 192);">'INTERFACE_TYPE_AGENT'，</span>1);</p><p>define(<span style="color: rgb(0, 0, 192);">'INTERFACE_TYPE_SNMP'</span>,2);</p><p>define(<span style="color: rgb(0, 0, 192);">'INTERFACE_TYPE_IPMI'</span>,3);</p><p>define(<span style="color: rgb(0, 0, 192);">'INTERFACE_TYPE_JMX'</span>,4);</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p><strong>useip:</strong>使用IP或者DNS方式定位：</p><p>define(<span style="color: rgb(0, 0, 192);">'INTERFACE_USE_DNS'</span>, 0);</p><p>define(<span style="color: rgb(0, 0, 192);">'INTERFACE_USE_IP'</span>,1);</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">interface_discovery表（空）</span></li></ol><p>主机监控接口自动发现信息记录表，用于自动发现接口，与interface表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>interfaceid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>主机接口ID</p><p>False</p><p>parent_interfaceid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>父级接口</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">item_application_prototype表（空）</span></li></ol><p>监控项应用模型信息记录表。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>item_application_prototypeid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>监控项接口ID</p><p>False</p><p>parent_interfaceid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>父级接口</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">item_condition表</span></li></ol><p>监控项条件记录表。与items表相关联。</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>item_conditionid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>监控项条件ID</p><p>False</p><p>itemid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>监控项ID</p><p>False</p><p>operator</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>操作人</p><p>False</p><p>macro</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>宏</p><p>False</p><p>value</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>值</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">item_discovery表</span></li></ol><p>监控项自动发现表，根据模板的自动发现规则，创建自动发现的监控项。</p><p>与items表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>itemdiscoveryid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>监控项自动发现ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>itemid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>对应的监控项ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>parent_itemid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>父监控项</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>key_</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>监控项关键字</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>lastcheck</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>最后检查时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ts_delete</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>删除时间</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">item_preproc表</span></li></ol><p>预处理监控项表，与items表相关联。</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>item_preprocid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>预处理监控项ID</p><p>False</p><p>itemid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>对应的监控项ID</p><p>False</p><p>step</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>步骤</p><p>False</p><p>type_</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>类型</p><p>False</p><p>params</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>参数</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">items表</span></li></ol><p>监控项表，保存所有监控项。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>itemid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>监控项ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>snmp_community</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>snmp相关</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>snmp_oid</p><p>VARCHAR</p><p>True</p><p>False</p><p>512</p><p>snmp相关</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>hostid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>关联的主机ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>监控项名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>key_</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>监控项关键字表达式</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>delay</p><p>VARCHAR</p><p>True</p><p>False</p><p>1024</p><p>监控时间间隔，单位为秒</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>history</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>详细监控数据保留的时间，单位为天</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>trends</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>趋势保存的默认时长，单位为天</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>status</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value_type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>trapper_hosts</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>主机捕获</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>units</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>单位，字符串</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>snmpv3_securityname</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>snmp相关配置</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>snmpv3_securitylevel</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>snmp相关配置</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>snmpv3_authpassphrase</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>snmp相关配置</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>snmpv3_privpassphrase</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>snmp相关配置</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>formula</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>公式，和multipler一起使用，比如乘倍</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>error</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>错误信息</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>lastlogsize</p><p>BIGINT</p><p>True</p><p>False</p><p>64</p><p>最大日志容量</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>logtimefmt</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>日志日期格式化</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>templateid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>模板ID，与host表关联</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>valuemapid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>监控项的值映射值的ID，与valuemap表关联</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>params</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>参数</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ipmi_sensor</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>Ipmi传感器</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>authtype</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>认证类型：</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_AUTHTYPE_PASSWORD'</span>,&nbsp;&nbsp;&nbsp;0);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_AUTHTYPE_PUBLICKEY'</span>,&nbsp;&nbsp;&nbsp;1);</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>username</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>用户名</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>password</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>密码</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>publickey</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>认证类型使用publickey的时候，该字段有效</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>privatekey</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>私钥</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>mtime</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>&nbsp;</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>flags</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>标识</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>interfaceid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>服务接口ID，与interface表关联</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>port</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>端口</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>description</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>监控项描述</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>inventory_link</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>资产链接Populates host inventory field</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>lifetime</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>使用周期</p><p>False</p><p>snmpv3_authprotocol</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>snmp相关配置</p><p>False</p><p>snmpv3_privprotocol</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>snmp相关配置</p><p>False</p><p>state</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>报表</p><p>False</p><p>snmpv3_contextname</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>snmp相关配置</p><p>False</p><p>evaltype</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>评估类型</p><p>False</p><p>jmx_endpoind</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>Jmx终止点</p><p>False</p><p>master_itemid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>主监控项ID</p><p>&nbsp;</p><p><strong>Type：监控项类型。</strong></p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_TYPE_ZABBIX'</span>, 0);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_TYPE_SNMPV1'</span>, 1);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_TYPE_TRAPPER'</span>, 2);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_TYPE_SIMPLE'</span>, 3);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_TYPE_SNMPV2C'</span>, 4);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_TYPE_INTERNAL'</span>, 5);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_TYPE_SNMPV3'</span>, 6);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_TYPE_ZABBIX_ACTIVE'</span>, 7);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_TYPE_AGGREGATE'</span>, 8);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_TYPE_HTTPTEST'</span>, 9);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_TYPE_EXTERNAL'</span>, 10);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_TYPE_DB_MONITOR'</span>, 11);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_TYPE_IPMI'</span>, 12);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_TYPE_SSH'</span>, 13);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_TYPE_TELNET'</span>, 14);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_TYPE_CALCULATED'</span>,15);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_TYPE_JMX'</span>, 16);</p><p>&nbsp;</p><p><strong>status：当前状态，分为可用，不可用，和不支持三种：</strong></p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_STATUS_ACTIVE'</span>,0);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_STATUS_DISABLED'</span>,1);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_STATUS_NOTSUPPORTED'</span>,3);</p><p>&nbsp;</p><p><strong>value_type：监控项的数据格式：</strong></p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_VALUE_TYPE_FLOAT'</span>,0);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_VALUE_TYPE_STR'</span>,1);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_VALUE_TYPE_LOG'</span>,2);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_VALUE_TYPE_UINT64'</span>,3);</p><p>define(<span style="color: rgb(0, 0, 192);">'ITEM_VALUE_TYPE_TEXT'</span>,4);</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">items_applications表</span></li></ol><p>监控项-应用关联表，与items、applications表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>itemappid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>监控项应用的关联ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>applicationid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>应用ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>itemid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>监控项ID</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">maintenances表（空）</span></li></ol><p>该表记录维护策略，与maintance_host,maintance_windows,maintance_group关联.</p><p>&nbsp;</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>maintenanceid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>维护ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>维护说明的标题</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>maintenance_type</p><p>INT</p><p>True</p><p>False</p><p>0</p><p>维护类型：</p><p>0：正常模式，继续收集监控数据</p><p>1：期间不再收集监控数据</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>description</p><p>TEXT</p><p>True</p><p>False</p><p>11</p><p>维护的描述</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>active_since</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>维护策略启用时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>active_till</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>维护策略生效时间</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">maintenances_groups表（空）</span></li></ol><p>维护-主机组关联表，与maintenances、groups表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>maintenance_groupid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>维护策略与主机组的关联ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>maintenanceid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>维护策略ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>groupid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>主机组ID</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">maintenances_hosts表（空）</span></li></ol><p>该表将维护策略与主机关联起来，关联表为maintances和hosts。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>maintenance_hostid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>维护策略与主机的关联ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>maintenanceid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>维护策略ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>hostid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>主机ID</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">maintenances_windows表（空）</span></li></ol><p>维护-时间窗口关联表，将maintances与timepreriod关联起来。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>maintenance_timeperiodid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>维护--时间窗口的关联ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>maintenanceid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>维护策略ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>timeperiodid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>时间窗口ID</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">mappings表</span></li></ol><p>&nbsp;&nbsp;&nbsp;映射值表，与valuemap表关联，是valuemap表的具体值表。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>mappingid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>单个映射关联ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>valuemapid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>与valuemap的ID关联，即表示valuemap的具体值</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>需要被映射的值</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>newvalue</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>映射后的新值</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">media表</span></li></ol><p>通知方式实例表，记录每个用户所有的通知方式。</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>mediaid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>通知发送的实例ID，每个用户的每个通知方式作为一条记录</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>userid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>用户ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>mediatypeid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>sendto</p><p>VARCHAR</p><p>True</p><p>False</p><p>100</p><p>发送到的地址，比如电子邮箱</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>active</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>是否启用，0表示启用：</p><p>define(<span style="color: rgb(0, 0, 192);">'MEDIA_TYPE_STATUS_ACTIVE'</span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0);</p><p>define(<span style="color: rgb(0, 0, 192);">'MEDIA_TYPE_STATUS_DISABLED'</span>,&nbsp;&nbsp;&nbsp;1);</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>severity</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>接受的告警等级，使用累加方式</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>period</p><p>VARCHAR</p><p>True</p><p>False</p><p>1024</p><p>通知方式的发送时间段，形式例如：</p><p>1-7,00:00-24:00</p><p>&nbsp;</p><p><strong>Mediatypeid：媒体类型，支持以下几种：</strong></p><p>define(<span style="color: rgb(0, 0, 192);">'MEDIA_TYPE_EMAIL'</span>,0);</p><p>define(<span style="color: rgb(0, 0, 192);">'MEDIA_TYPE_EXEC'</span>,1);</p><p>define(<span style="color: rgb(0, 0, 192);">'MEDIA_TYPE_SMS'</span>,2);</p><p>define(<span style="color: rgb(0, 0, 192);">'MEDIA_TYPE_JABBER'</span>,3);</p><p>define(<span style="color: rgb(0, 0, 192);">'MEDIA_TYPE_EZ_TEXTING'</span>,100);</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">media_type表</span></li></ol><p>通知媒介配置表，包含短信、邮件等</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>mediatypeid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>媒介类型ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>通知媒介类型</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>description</p><p>VARCHAR</p><p>True</p><p>False</p><p>100</p><p>描述</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>smtp_server</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>邮箱专用：</p><p>smtp服务器</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>smtp_helo</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>邮件专用helo</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>smtp_email</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>邮件专用配置，邮件地址（发送者）</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>exec_path</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>脚本方式的执行路径</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>gsm_modem</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>短信猫的设备路径</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>username</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>jabber的用户名</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>passwd</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>jabber的密码</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>status</p><p>INTEGER</p><p>True</p><p>False</p><p>&nbsp;</p><p>是否启用，0表示启用，1表示未启用</p><p>False</p><p>smtp_port</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>smtp端口</p><p>False</p><p>smtp_security</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>smtp安全协议</p><p>False</p><p>smtp_verify_peer</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>smtp平级验证</p><p>False</p><p>smtp_verify_host</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>smtp主机验证</p><p>False</p><p>smtp_authentication</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>smtp认证</p><p>False</p><p>exec_params</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>执行参数</p><p>False</p><p>maxsessions</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>最大sessions值</p><p>False</p><p>maxattempts</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>最多尝试次数</p><p>False</p><p>attempt_interval</p><p>VARCHAR</p><p>True</p><p>False</p><p>32</p><p>每次尝试的间隔</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">opcommand表（空）</span></li></ol><p>操作命令实例表，记录某个action场景下面的操作。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>operationid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>操作ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>scriptid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>脚本ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>execute_on</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>在server还是agent上执行，1表示server</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>port</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>执行端口</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>authtype</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>认证类型：publickey or password</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>username</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>当认证类型为password时有用</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>password</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>当认证类型为password时有用</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>publickey</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>当认证类型为publickey时有用</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>privatekey</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>当认证类型为publickey时有用</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>command</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>远程执行的命令串</p><p>&nbsp;</p><p><strong>Type</strong><strong style="color: rgb(0, 0, 0);">：</strong><strong>支持的操作类型：</strong></p><p>define(<span style="color: rgb(0, 0, 192);">'OPERATION_TYPE_MESSAGE'</span>,0);</p><p>define(<span style="color: rgb(0, 0, 192);">'OPERATION_TYPE_COMMAND'</span>,1);</p><p>define(<span style="color: rgb(0, 0, 192);">'OPERATION_TYPE_HOST_ADD'</span>,2);</p><p>define(<span style="color: rgb(0, 0, 192);">'OPERATION_TYPE_HOST_REMOVE'</span>,3);</p><p>define(<span style="color: rgb(0, 0, 192);">'OPERATION_TYPE_GROUP_ADD'</span>,4);</p><p>define(<span style="color: rgb(0, 0, 192);">'OPERATION_TYPE_GROUP_REMOVE'</span>,5);</p><p>define(<span style="color: rgb(0, 0, 192);">'OPERATION_TYPE_TEMPLATE_ADD'</span>, 6);</p><p>define(<span style="color: rgb(0, 0, 192);">'OPERATION_TYPE_TEMPLATE_REMOVE'</span>,7);</p><p>define(<span style="color: rgb(0, 0, 192);">'OPERATION_TYPE_HOST_ENABLE'</span>,8);</p><p>define(<span style="color: rgb(0, 0, 192);">'OPERATION_TYPE_HOST_DISABLE'</span>,9);</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">opcommand_grp表（空）</span></li></ol><p>远程命令-主机组关联表，以主机组为粒度，确定执行范围。与groups表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>opcommand_grpid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>关联主机组ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>operationid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>操作ID，与opcommand表ID关联</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>groupid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>主机组ID，与group表ID关联</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">opcommand_hst表（空）</span></li></ol><p>远程命令-主机关联表，以主机为粒度，确定执行范围。与hosts表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>opcommand_hstid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>关联主机ID</p><p>False</p><p>operationid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>操作ID，与opcommand表ID关联</p><p>False</p><p>hostid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>主机ID，与host表ID关联</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">opconditions表</span></li></ol><p>操作条件表。主要用来用来记录操作类型及操作符。与conditions表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>opconditionid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>操作条件主键ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>operationid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>操作ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>conditiontype</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>operator</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>条件值</p><p>&nbsp;</p><p><strong>Conditiontype：条件类型,目前支持以下几种：</strong></p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_HOST_GROUP'</span>, 0);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_HOST'</span>, 1);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_TRIGGER'</span>, 2);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_TRIGGER_NAME'</span>, 3);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_TRIGGER_SEVERITY'</span>, 4);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_TRIGGER_VALUE'</span>, 5);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_TIME_PERIOD'</span>, 6);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_DHOST_IP'</span>，7);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_DSERVICE_TYPE'</span>,8);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_DSERVICE_PORT'</span>,9);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_DSTATUS'</span>,10);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_DUPTIME'</span>,11);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_DVALUE'</span>,12);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_HOST_TEMPLATE'</span>,13);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_EVENT_ACKNOWLEDGED'</span>,14);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_APPLICATION'</span>,15);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_MAINTENANCE'</span>,16);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_NODE'</span>，17);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_DRULE'</span>,18);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_DCHECK'</span>,19);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_PROXY'</span>,20);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_DOBJECT'</span>,21);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_TYPE_HOST_NAME'</span>,22);&nbsp;&nbsp;&nbsp;&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p><strong>operator：操作符，支持以下几种：</strong></p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_OPERATOR_EQUAL'</span>, 0);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_OPERATOR_NOT_EQUAL'</span>,1);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_OPERATOR_LIKE'</span>,2);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_OPERATOR_NOT_LIKE'</span>,3);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_OPERATOR_IN'</span>,4);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_OPERATOR_MORE_EQUAL'</span>,5);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_OPERATOR_LESS_EQUAL'</span>,6);</p><p>define(<span style="color: rgb(0, 0, 192);">'CONDITION_OPERATOR_NOT_IN'</span>,7);</p><ol><li><span style="color: rgb(0, 0, 0);">operations表</span></li></ol><p>用来记录操作对应的动作关联表。与actions表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>operationid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>操作ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>actionid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>动作场景ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>operationtype</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>esc_period</p><p>INT</p><p>True</p><p>False</p><p>255</p><p>执行时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>esc_step_from</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>从第几步开始</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>esc_step_to</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>到第几步(step)</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>evaltype</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>执行类型，远程命令还是发送消息</p><p>False</p><p>recovery</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>恢复</p><p>&nbsp;</p><p><strong>Operationtype：操作类型，支持以下几种：</strong></p><p>define(<span style="color: rgb(0, 0, 192);">'OPERATION_TYPE_MESSAGE'</span>,0);</p><p>define(<span style="color: rgb(0, 0, 192);">'OPERATION_TYPE_COMMAND'</span>,1);</p><p>define(<span style="color: rgb(0, 0, 192);">'OPERATION_TYPE_HOST_ADD'</span>,2);</p><p>define(<span style="color: rgb(0, 0, 192);">'OPERATION_TYPE_HOST_REMOVE'</span>,3);</p><p>define(<span style="color: rgb(0, 0, 192);">'OPERATION_TYPE_GROUP_ADD'</span>,4);</p><p>define(<span style="color: rgb(0, 0, 192);">'OPERATION_TYPE_GROUP_R EMOVE'</span>,5);</p><p>define(<span style="color: rgb(0, 0, 192);">'OPERATION_TYPE_TEMPLATE_ADD'</span>,6);</p><p>define(<span style="color: rgb(0, 0, 192);">'OPERATION_TYPE_TEMPLATE_REMOVE'</span>,7);</p><p>define(<span style="color: rgb(0, 0, 192);">'OPERATION_TYPE_HOST_ENABLE'</span>,8);</p><p>define(<span style="color: rgb(0, 0, 192);">'OPERATION_TYPE_HOST_DISABLE'</span>,9);</p><ol><li><span style="color: rgb(0, 0, 0);">opgroup表</span></li></ol><p>操作-主机组关联表，与operations、groups表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>opgroupid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>操作-主机组关联ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>operationid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>操作ID,关联operation表ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>groupid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>主机组ID</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">opinventory表（空）</span></li></ol><p>操作记录表，用来存放详细的操作记录。与operations表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>operationid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>操作ID,关联operation表ID</p><p>False</p><p>inventory_mode</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>记录模式</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">opmessage表</span></li></ol><p>发送消息操作表。</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>operationid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>操作ID，与operation表的ID关联-</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>default_msg</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>默认的短信</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>subject</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>标题</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>message</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>短信内容</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>mediatypeid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>通知媒介类型</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">opmessage_grp表</span></li></ol><p>发送消息操作-用户组关联表，用于以用户组为单位发送消息。与operations、usrgrp表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>opmessage_grpid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>发送消息操作-用户组关联ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>operationid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>操作ID，与operation表关联</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>usrgrpid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>用户组ID，与usergrp表ID关联</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">opmessage_usr表</span></li></ol><p>发送消息操作-用户关联表，用于以用户为单位发送消息。与operations、users表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>opmessage_usrid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>发送消息操作-用户关联ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>operationid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>操作ID，与operation表ID关联</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>userid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>用户ID，与user表的ID关联</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">optemplate表</span></li></ol><p>操作-模板关联表,与host表的templateid关联。与operations、hosts表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>optemplateid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>操作-模板关联ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>operationid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>操作ID，与operation表的ID关联</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>templateid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>模板ID，与host表的hostid关联</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">problem表</span></li></ol><p>用来记录事件发生的问题信息表，与events、users、correlation表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>events</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>事件ID</p><p>False</p><p>source</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>数据源</p><p>False</p><p>object</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>目标</p><p>False</p><p>objectid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>目标ID</p><p>False</p><p>clock</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>出现问题时间</p><p>False</p><p>ns</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>&nbsp;False</p><p>r_eventid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>恢复事件ID</p><p>False</p><p>r_clock</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>恢复问题时间</p><p>False</p><p>r_ns</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>&nbsp;</p><p>False</p><p>correlationid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>与correlations表相关联ID</p><p>False</p><p>userid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>相关联用户ID</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">problem_tag表(空)</span></li></ol><p>用来记录事件发生的问题标识表，与events表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>problemtagid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>问题标识ID</p><p>False</p><p>eventid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>事件ID</p><p>False</p><p>tag</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>标识</p><p>False</p><p>value</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>值</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">profiles表</span></li></ol><p>记录用户详细配置信息表，与users表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>profileid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>用户配置ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>userid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>用户ID，与user表ID关联</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>idx</p><p>VARCHAR</p><p>True</p><p>False</p><p>96</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>idx2</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>同idx</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value_id</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>配置值，根据type字段而定</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value_int</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>配置值，根据type字段而定</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value_str</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>配置值，根据type字段而定</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>source</p><p>VARCHAR</p><p>True</p><p>False</p><p>96</p><p>数据源</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>type</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p>&nbsp;</p><p><strong>idx：配置索引，字符串显示，目前支持以下几种：</strong></p><p>web.actionconf.eventsource 、web.actionconf.php.sort</p><p>web.actionconf.php.sortorder 、web.applications.php.sort</p><p>web.applications.php.sortorder 、web.auditlogs.filter.action</p><p>web.auditlogs.filter.alias 、web.auditlogs.filter.resourcetype</p><p>web.auditlogs.timeline.period 、web.auditlogs.timeline.stime</p><p>web.avail_report.0.groupid 、web.avail_report.0.hostid</p><p>web.avail_report.0.timesince 、web.avail_repor t.0.timetill</p><p>web.avail_report.mode 、web.cm.groupid 、web.config.groupid</p><p>web.config.hostid 、web.dashboard.hats.hat_favgrph.state</p><p>web.dashboard.hats.hat_lastiss.state</p><p>web.dashboard.hats.hat_stszbx.state</p><p>web.dashboard.rf_rate.hat_lastiss 、web.dashconf.filter.enable</p><p>web.discovery.php.sort 、web.discovery.php.sortorder</p><p>web.discoveryconf.php.sort 、web.discoveryconf.php.sortorder</p><p>web.disc_prototypes.php.sort<span style="color: rgb(0, 0, 0);">、</span>web.disc_prototypes.php.sortorder</p><p>web.events.filter.state</p><p>&nbsp;</p><p><strong>type：用户配置数据类型</strong>：</p><p>define('PROFILE_TYPE_UNKNOWN',0);</p><p>define('PROFILE_TYPE_ID',1);</p><p>define('PROFILE_TYPE_INT',2);</p><p>define('PROFILE_TYPE_STR',3);</p><p>define('PROFILE_TYPE_ARRAY_ID'，4);</p><p>define('PROFILE_TYPE_ARRAY_INT',5);</p><p>define('PROFILE_TYPE_ARRAY_STR',6);</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">proxy_autoreg_host表（空）</span></li></ol><p>代理-自动登记-主机表，PHP前端未用。与hosts表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>id</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>代理主机ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>clock</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>登记时刻，unix时间戳</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>host</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>主机名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>listen_ip</p><p>VARCHAR</p><p>True</p><p>False</p><p>39</p><p>监听IP</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>listen_port</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>监听端口</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>listen_dns</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>监听DNS</p><p>False</p><p>listen_dns</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>监听DNS</p><p>False</p><p>listen_metadate</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>监听元数据</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">proxy_dhistory表（空）</span></li></ol><p>代理-自动发现历史表，PHP前端未用，server使用。与drules、dcheck表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>id</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>代理_自动发现ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>clock</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>自动发现时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>druleid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>规则</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>类型</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ip</p><p>VARCHAR</p><p>True</p><p>False</p><p>39</p><p>IP地址</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>port</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>端口地址</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>值</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>status</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>状态</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>dcheckid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>自动检查ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>dns</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>DNS地址</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">proxy_history表（空）</span></li></ol><p>代理历史数据表，PHP前端未用，server端使用，与items表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>id</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>记录ID，表示哪个记录已经从proxy端被记录同步到server端</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>itemid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>监控项ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>clock</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>收集时间（使用proxy的时间）</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>timestamp</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>用于widonws的时间戳</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>source</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>用于windows的事件记录源</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>severity</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>用于windows，记录严重程度</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value</p><p>LONGTEXT</p><p>True</p><p>False</p><p>0</p><p>实际值</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>logeventid</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>用于windows，时间ID（logeventID）</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ns</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>&nbsp;</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>status</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>状态</p><p>False</p><p>lastlogsize</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>最大日志大小</p><p>False</p><p>mtime</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>&nbsp;</p><p>False</p><p>flags</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>标识</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">regexps表</span></li></ol><p>正则表达式信息记录表。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>regexpid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>正则表达式ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>正则表达名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>test_string</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>测试字符串</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">rights表</span></li></ol><p>权限配置表，用于记录用户组（usrgrp)与主机组(group）之间的权限关联，权限分为可读可写、可读、不可读不可写三种，与groups表相关联。</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>rightid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>权限ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>groupid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>与usrgrp的组ID关联</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>permission</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>权限：</p><p>3:可读可写</p><p>2：只可读</p><p>1：deny</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>id</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>与group的组ID关联</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">screen_user表（空）</span></li></ol><p>屏幕实例关联用户表，与users、screens表相关联。</p><p>&nbsp;</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>screenuserid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>屏幕实例关联用户的ID</p><p>False</p><p>screenid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>屏幕实例ID</p><p>False</p><p>userid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>用户ID</p><p>False</p><p>permission</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>权限</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">screen_usrgrp表（空）</span></li></ol><p>屏幕实例关联用户组表，与usrgrp、screens表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>screenusrgrpid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>屏幕实例关联用户组的ID</p><p>False</p><p>screenid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>屏幕实例ID</p><p>False</p><p>usrgrpid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>用户组ID</p><p>False</p><p>permission</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>权限</p><ol><li><span style="color: rgb(0, 0, 0);">screens表</span></li></ol><p>屏幕实例表，用于记录一个屏幕的行数和列数，并与hosts、users表关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>screenid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>屏幕实例ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>屏幕实例名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>hsize</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>列数</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>vsize</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>行数</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>templateid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>模板ID，与host的id关联</p><p>False</p><p>userid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>用户ID</p><p>False</p><p>private</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">screens_items表</span></li></ol><p>屏幕子元素配置表，用于配置单个屏幕里面的元素，包括大小，样式，类型等，</p><p>与screens表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>screenitemid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>屏幕子元素ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>screenid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>屏幕ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>resourcetype</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>resourceid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>资源ID，依赖于资源类型</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>width</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>宽度，像素</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>height</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>高度，像素</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>x</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>起始的X轴坐标</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>y</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>起始的Y轴坐标</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>colspan</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>列扩展</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>rowspan</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>行扩展</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>elements</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>元素</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>valign</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>垂直对齐方式</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>halign</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>水平对齐方式</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>style</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>样式</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>url</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>当类型为url时，记录url字符串</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>dynamic</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>是否动态：</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_SIMPLE_ITEM'</span>,&nbsp;&nbsp;&nbsp;0);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_DYNAMIC_ITEM'</span>,&nbsp;&nbsp;&nbsp;1);</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>sort_triggers</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p>False</p><p>application</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>对应的应用</p><p>False</p><p>Max_columns</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>最大列</p><p>&nbsp;</p><p><strong>Resourcetype:资源类型，目前支持以下几种方式：</strong></p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_RESOURCE_GRAPH'</span>,0);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_RESOURCE_SIMPLE_GRAPH'</span>,1);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_RESOURCE_MAP'</span>, 2);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_RESOURCE_PLAIN_TEXT'</span>,3);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_RESOURCE_HOSTS_INFO'</span>,4);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_RESOURCE_TRIGGERS_INFO'</span>,5);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_RESOURCE_SERVER_INFO'</span>,6);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_RESOURCE_CLOCK'</span>,7);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_RESOURCE_SCREEN'</span>,8);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_RESOURCE_TRIGGERS_OVERVIEW'</span>,9);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_RESOURCE_DATA_OVERVIEW'</span>,10);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_RESOURCE_URL'</span>,11);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_RESOURCE_ACTIONS'</span>,12);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_RESOURCE_EVENTS'</span>,13);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_RESOURCE_HOSTGROUP_TRIGGERS'</span>,14);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_RESOURCE_SYSTEM_STATUS'</span>,15);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_RESOURCE_HOST_TRIGGERS'</span>,16);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_RESOURCE_HISTORY'</span>,17);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_RESOURCE_CHART'</span>,18);</p><p>&nbsp;</p><p>&nbsp;</p><p><strong>sort_triggers：选择为status host trigger的时候，可以提供几种trigger的排序方式：</strong></p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_SORT_TRIGGERS_DATE_DESC'</span>,0);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_SORT_TRIGGERS_SEVERITY_DESC'</span>,1);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_SORT_TRIGGERS_HOST_NAME_ASC'</span>,2);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_SORT_TRIGGERS_TIME_ASC'</span>,3);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_SORT_TRIGGERS_TIME_DESC'</span>,4);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_SORT_TRIGGERS_TYPE_ASC'</span>,5);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_SORT_TRIGGERS_TYPE_DESC'</span>,6);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_SORT_TRIGGERS_STATUS_ASC'</span>,7);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_SORT_TRIGGERS_STATUS_DESC'</span>,8);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_SORT_TRIGGERS_RETRIES_LEFT_ASC'</span>,9);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_SORT_TRIGGERS_RETRIES_LEFT_DESC'</span>,10);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_SORT_TRIGGERS_RECIPIENT_ASC'</span>，1);</p><p>define(<span style="color: rgb(0, 0, 192);">'SCREEN_SORT_TRIGGERS_RECIPIENT_DESC'</span>，2);</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">scripts表</span></li></ol><p>脚本配置表，定义脚本的执行路径和方式。与usrgrp、groups表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>scriptid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>脚本ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>脚本名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>command</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>脚本命令</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>host_access</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>需要的主机权限，2为只读即可</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>usrgrpid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>用户组ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>groupid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>主机组ID，NULL表示所有主机组均可使用</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>description</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>脚本描述</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>confirmation</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>是否使用确认功能，若启用，则该字段不为空，且为确认信息。</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>type</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>脚本类型，包括脚本或者IPMI，0表示脚本，1表示IPMI</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>execute_on</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>执行位置：</p><p>1表示server</p><p>2表示agent</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">service_alarms表（空）</span></li></ol><p>服务告警表。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>servicealarmid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>服务告警参数ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>serviceid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>服务ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>clock</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>服务告警发生时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>值</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">services表（空）</span></li></ol><p>服务实例表。与triggers表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>serviceid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>服务ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>服务名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>status</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>服务状态</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>algorithm</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>triggerid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>触发器ID，与trigger表ID关联</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>showsla</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>是否显示SLA，服务等级协议</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>goodsla</p><p>DOUBLE</p><p>True</p><p>False</p><p>16</p><p>SLA的阀值，浮点表示</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>sortorder</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>排序，0-999，用于服务树状结构展示</p><p>&nbsp;</p><p><strong>Algorithm：服务算法</strong></p><p>define(<span style="color: rgb(0, 0, 192);">'SERVICE_ALGORITHM_NONE'</span>,0);&nbsp;<span style="color: rgb(85, 127, 95);">// do not calculate</span></p><p><u>define</u>(<span style="color: rgb(0, 0, 192);">'SERVICE_ALGORITHM_MAX'</span>,1);&nbsp;<span style="color: rgb(85, 127, 95);">// problem, if one chil dren has a problem</span></p><p>define(<span style="color: rgb(0, 0, 192);">'SERVICE_ALGORITHM_MIN'</span>,2);&nbsp;<span style="color: rgb(85, 127, 95);">// problem, if all children have problems</span></p><ol><li><span style="color: rgb(0, 0, 0);">services_links表（空）</span></li></ol><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;服务依赖关系表。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>linkid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>链接ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>serviceupid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>服务启动ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>servicedownid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>服务终止ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>soft</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>依赖软件</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">services_times表（空）</span></li></ol><p>服务时间定义表，用于定义IT服务的开、关时间段，支持循环（按星期）或者单次。与items、services表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>timeid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>时间ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>serviceid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>服务ID，与services表关联</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ts_from</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>从什么时候开始</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>ts_to</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>到什么时间结束</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>note</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>单次关闭的备注</p><p>&nbsp;</p><p><strong>Type：时间类型：</strong></p><p>define(<span style="color: rgb(0, 0, 192);">'SERVICE_TIME_TYPE_UPTIME'</span>,0);</p><p>define(<span style="color: rgb(0, 0, 192);">'SERVICE_TIME_TYPE_DOWNTIME'</span>,1);</p><p>define(<span style="color: rgb(0, 0, 192);">'SERVICE_TIME_TYPE_ONETIME_DOWNTIME'</span>,2);</p><ol><li><span style="color: rgb(0, 0, 0);">sessions表</span></li></ol><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;会话信息记录表。与users表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>sessionid</p><p>VARCHAR</p><p>True</p><p>True</p><p>32</p><p>会话ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>userid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>用户ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>lastaccess</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>最后访问事件，unix时间戳</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>status</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>状态：</p><p>define(<span style="color: rgb(0, 0, 192);">'ZBX_SESSION_ACTIVE'</span>,&nbsp;&nbsp;&nbsp;0);</p><p>define(<span style="color: rgb(0, 0, 192);">'ZBX_SESSION_PASSIVE'</span>,&nbsp;&nbsp;&nbsp;1);</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">slides表（空）</span></li></ol><p>单个幻灯片配置表，记录一个幻灯片组所包含的所有单个幻灯片的配置，与screens表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>slideid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>幻灯片ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>slideshowid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>关联的幻灯展示ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>screenid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>展示的屏幕ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>step</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>第几步</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>delay</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>延时秒</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">slideshow_user表（空）</span></li></ol><p>单个幻灯片展示实例-用户表，记录一个幻灯片组所包含的所有单个幻灯片与用户的关联关系，与slideshow、users表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>slideshowuserid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>幻灯片展示关联的用户ID</p><p>False</p><p>slideshowid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>关联的幻灯展示ID</p><p>False</p><p>userid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>用户ID</p><p>False</p><p>permission</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>权限</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">slideshow_usrgrp表（空）</span></li></ol><p>单个幻灯片展示实例-用户组表，记录一个幻灯片组所包含的所有单个幻灯片与用户组的关联关系，与slideshow、users表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>slideshowusrgrpid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>幻灯片展示关联的用户组ID</p><p>False</p><p>slideshowid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>关联的幻灯展示ID</p><p>False</p><p>usrgrpid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>用户组ID</p><p>False</p><p>permission</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>权限</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">slideshows表（空）</span></li></ol><p>幻灯展示实例表，即幻灯片组。与users表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>slideshowid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>幻灯片组ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>delay</p><p>INT</p><p>True</p><p>False</p><p>32</p><p>两个片组间的延时</p><p>True</p><p>userid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>用户ID</p><p>False</p><p>private</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">sysmap_element_trigger表（空）</span></li></ol><p>系统地图元素触发器关联表，与triggers表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>selement_triggerid</p><p>BIGINT</p><p>Tru e</p><p>True</p><p>20</p><p>系统地图元素与触发器的关联ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>selementid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>元素ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>triggerid</p><p>BIGINT</p><p>True</p><p>False</p><p>255</p><p>触发器ID</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">sysmap_element_url表（空）</span></li></ol><p>系统地图元素URL关联表</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>sysmapelementurlid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>系统地图元素与URL的关联ID</p><p>False</p><p>selementid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>元素ID</p><p>False</p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>名称</p><p>False</p><p>url</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>URL</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">sysmap_shape表</span></li></ol><p>系统地图模型表。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>sysmap_shapeid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>系统地图模型ID</p><p>False</p><p>sysmapid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>系统地图ID</p><p>False</p><p>type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>类型</p><p>False</p><p>x</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>起始的X轴坐标</p><p>False</p><p>y</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>起始的Y轴坐标</p><p>False</p><p>width</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>宽度，像素</p><p>False</p><p>height</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>高度，像素</p><p>False</p><p>text</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>文本信息</p><p>False</p><p>font</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>前端</p><p>False</p><p>font_size</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>前端大小</p><p>False</p><p>font_color</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>前端颜色</p><p>False</p><p>text_valign</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>文本垂直对齐方式</p><p>False</p><p>text_halign</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>文本水平对齐方式</p><p>False</p><p>border_type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>边框样式</p><p>False</p><p>border_width</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>边框宽度</p><p>False</p><p>border_color</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>边框颜色</p><p>False</p><p>background_color</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>背景颜色</p><p>False</p><p>zindex</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>首页</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">sysmap_url表（空）</span></li></ol><p>系统地图-URL关联表。</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>sysmapurlid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>系统地图-URL关联ID</p><p>False</p><p>sysmapid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>系统地图ID</p><p>False</p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>URL名称</p><p>False</p><p>url</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>URL地址</p><p>False</p><p>elementtype</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p>&nbsp;</p><p><strong>elementtypeL元素类型，每种类型的元素都可以设定URL</strong></p><p>define(<span style="color: rgb(0, 0, 192);">'SYSMAP_ELEMENT_TYPE_HOST'</span>,0);</p><p>define(<span style="color: rgb(0, 0, 192);">'SYSMAP_ELEMENT_TYPE_MAP'</span>,1);</p><p>define(<span style="color: rgb(0, 0, 192);">'SYSMAP_ELEMENT_TYPE_TRIGGER'</span>,2);</p><p>define(<span style="color: rgb(0, 0, 192);">'SYSMAP_ELEMENT_TYPE_HOST_GROUP'</span>,3);</p><p>define(<span style="color: rgb(0, 0, 192);">'SYSMAP_ELEMENT_TYPE_IMAGE'</span>,4);</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">sysmap_user表（空）</span></li></ol><p>系统地图关联用户表，记录用户的关联关系，与sysmap、users表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>sysmapuserid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>系统地图关联的用户ID</p><p>False</p><p>sysmapid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>关联的系统地图ID</p><p>False</p><p>userid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>用户ID</p><p>False</p><p>permission</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>权限</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">sysmap_usrgrp表（空）</span></li></ol><p>系统地图关联用户表，记录用户的关联关系，与sysmap、users表相关联。</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>sysmapusrgrpid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>系统地图关联的用户组ID</p><p>False</p><p>sysmapid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>关联的系统地图ID</p><p>False</p><p>usrgrpid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>用户组ID</p><p>False</p><p>permission</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>权限</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">sysmaps表</span></li></ol><p>系统地图表。包含系统地图配置显示信息及标签属性。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>sysmapid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>系统地图ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>系统地图名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>width</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>宽度，像素</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>height</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>高度，像素</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>backgroundid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>背景图像ID，引用image表</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>label_type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>label_location</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>highlight</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>是否高亮</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>expandproblem</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>是否展开显示问题</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>markelements</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>标记元素</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>show_unack</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>是否显示未确认的数据</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>grid_size</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>网格大小，像素</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>grid_show</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>是否显示网格</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>grid_align</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>网格对齐功能开启，1表示开启</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>label_format</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>标签化分类</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>label_type_host</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>主机标签类型</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>label_type_hostgroup</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>主机组标签类型</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>label_type_trigger</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>触发器标签类型</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>label_type_map</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>地图标签类型</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>label_type_image</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>图片标签类型</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>label_string_host</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>主机字符串标签</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>label_string_hostgroup</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>主机组标签字符串</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>label_string_trigger</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>触发器字符串标签</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>label_string_map</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>地图字符串标签</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>label_string_image</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>图片字符串标签</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>iconmapid</p><p>BIGINT</p><p>False</p><p>False</p><p>&nbsp;</p><p>图标的ID，会调用icon_map表中的数据</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>expand_macros</p><p>INT</p><p>True</p><p>False</p><p>&nbsp;</p><p>是否启用宏</p><p>&nbsp;</p><p><strong>label_type：标签类型</strong></p><p>define(<span style="color: rgb(0, 0, 192);">'MAP_LABEL_TYPE_LABEL'</span>,0);</p><p>define(<span style="color: rgb(0, 0, 192);">'MAP_LABEL_TYPE_IP'</span>,1);</p><p>define(<span style="color: rgb(0, 0, 192);">'MAP_LABEL_TYPE_NAME'</span>,2);</p><p>define(<span style="color: rgb(0, 0, 192);">'MAP_LABEL_TYPE_STATUS'</span>,3);</p><p>define(<span style="color: rgb(0, 0, 192);">'MAP_LABEL_TYPE_NOTHING'</span>,4);</p><p>define(<span style="color: rgb(0, 0, 192);">'MAP_LABEL_TYPE_CUSTOM'</span>,5)</p><p>&nbsp;</p><p><strong>label_location：标签位置</strong></p><p>define(<span style="color: rgb(0, 0, 192);">'MAP_LABEL_LOC_BOTTOM'</span>,0);</p><p>define(<span style="color: rgb(0, 0, 192);">'MAP_LABEL_LOC_LEFT'</span>,1);</p><p>define(<span style="color: rgb(0, 0, 192);">'MAP_LABEL_LOC_RIGHT'</span>,2);</p><p>define(<span style="color: rgb(0, 0, 192);">'MAP_LABEL_LOC_TOP'</span>,3);</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">sysmaps_elements表</span></li></ol><p>系统地图-元素关联表。与sysmaps表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>selementid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>系统元素ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>sysmapid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>系统地图ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>elementid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>元素ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>elementtype</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>元素类型</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>iconid_off</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>关闭图标ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>iconid_on</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>开启图标ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>label</p><p>VARCHAR</p><p>True</p><p>False</p><p>2048</p><p>标签</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>label_location</p><p>INT</p><p>False</p><p>False</p><p>11</p><p>标签位置</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>x</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>起始的X轴坐标</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>y</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>起始的Y轴坐标</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>iconid_disabled</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>禁用的图标ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>iconid_maintenance</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>维护的图标ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>elementsubtype</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>子元素类型</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>areatype</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>区域类型</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>width</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>宽度，像素</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>height</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>高度，像素</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>viewtype</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>视图类型</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>use_iconmap</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>用户图标地图</p><p>False</p><p>use_iconmap</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>用户图标地图</p><p>False</p><p>application</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>关联的应用</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">sysmaps_link_triggers表（空）</span></li></ol><p>&nbsp;&nbsp;&nbsp;系统地图连接-触发器关联表。与triggers表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>linktriggerid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>连接-触发器关联ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>linkid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>连接ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>triggerid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>触发器ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>drawtype</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>color</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>连接颜色</p><p>&nbsp;</p><p><strong>Drawtype：连接绘画形式</strong></p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_LINE'</span>, 0);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_FILLED_REGION'</span>, 1);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_BOLD_LINE'</span>, 2);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_DOT'</span>, 3);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_DASHED_LINE'</span>,4);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_GRADIENT_LINE'</span>,5);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_BOLD_DOT'</span>,6);</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">sysmaps_links表（空）</span></li></ol><p>系统地图链接表。与sysmaps、sysmaps_elements表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>linkid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>链接ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>sysmapid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>系统地图ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>selementid1</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>链接的第一个元素ID,与sysmap_elements的ID关联</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>selementid2</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>链接的第二个元素ID,与sysmap_elements的ID关联</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>drawtype</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>color</p><p>VARCHAR</p><p>True</p><p>False</p><p>6</p><p>默认颜色</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>label</p><p>VARCHAR</p><p>True</p><p>False</p><p>2048</p><p>链接标签名称</p><p>&nbsp;</p><p><strong>Drawtype：绘制类型</strong></p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_LINE'</span>,0);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_FILLED_REGION'</span>,1);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_BOLD_LINE'</span>,2);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_DOT'</span>,3);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_DASHED_LINE'</span>,4);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_GRADIENT_LINE'</span>,5);</p><p>define(<span style="color: rgb(0, 0, 192);">'GRAPH_ITEM_DRAWTYPE_BOLD_DOT'</span>,6);</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">task表（空）</span></li></ol><p>任务调度表。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>taskid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>任务调度ID</p><p>False</p><p>type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>任务调度类型</p><p>False</p><p>status</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>状态</p><p>False</p><p>clock</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>任务调度时间</p><p>False</p><p>ttl</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>&nbsp;False</p><p>proxy_hostoid</p><p>VARCHAR</p><p>True</p><p>False</p><p>20</p><p>代理主机ID</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">task_acknowledge表（空）</span></li></ol><p>任务调度信息告警确认表，与acknowledges表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>taskid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>任务调度ID</p><p>False</p><p>acknowledgeid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>关联的告警确认ID</p><ol><li><span style="color: rgb(0, 0, 0);">task_close_problem表（空）</span></li></ol><p>任务调度问题关闭表，与acknowledges表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>taskid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>任务调度ID</p><p>False</p><p>acknowledgeid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>关联的告警确认ID</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">task_remote_command表（空）</span></li></ol><p>任务远程命令信息记录表。与task、alerts、hosts表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>taskid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>任务调度ID</p><p>False</p><p>command_type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>命令类型</p><p>False</p><p>execute_on</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>开启执行权限</p><p>False</p><p>port</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>端口</p><p>False</p><p>authtype</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>认证类型</p><p>False</p><p>username</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>用户名</p><p>False</p><p>password</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>密码</p><p>False</p><p>publickey</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>公钥</p><p>False</p><p>privatekey</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>私钥</p><p>False</p><p>command</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>命令</p><p>True</p><p>alertid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>资产ID</p><p>False</p><p>parent_taskid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>父任务调度ID</p><p>False</p><p>hostid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>主机ID</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">task_remote_command_result表（空）</span></li></ol><p>任务远程命令的结果信息记录表。与task</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>taskid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>任务调度ID</p><p>False</p><p>status</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>状态</p><p>False</p><p>parent_taskid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>父任务调度ID</p><p>False</p><p>info</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>结果信息</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">timeperiods表（空）</span></li></ol><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;时间窗口定义表。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>timeperiodid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>时间窗口ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>timeperiod_type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>every</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>每多少单位时间执行一次</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>month</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>月份</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>dayofweek</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>星期</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>day</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>日子</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>start_time</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>开始时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>period</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>窗口时间长度，秒</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>start_date</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>开始日期，用于单次执行</p><p>&nbsp;</p><p><strong>timeperiod_type：目前支持4种时间窗口</strong></p><p>define('TIMEPERIOD_TYPE_ONETIME',0); //单次执行&nbsp;</p><p>define('TIMEPERIOD_TYPE_HOURLY',1);//按小时</p><p>define('TIMEPERIOD_TYPE_DAILY',2);//按天算</p><p>define('TIMEPERIOD_TYPE_WEEKLY',3);//每周</p><p>define('TIMEPERIOD_TYPE_MONTHLY',4);//按月算</p><p>define('TIMEPERIOD_TYPE_YEARLY',5); //按年算，目前不支持</p><ol><li><span style="color: rgb(0, 0, 0);">trends表</span></li></ol><p>趋势表，浮点型，每个小时统计数</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>itemid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>监控项ID</p><p><span style="color: rgb(78, 161, 219);">True</span></p><p>clock</p><p>INT</p><p>True</p><p>True</p><p>11</p><p>时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>num</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>已经收集的数据量</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value_min</p><p>DOUBLE</p><p>True</p><p>False</p><p>16</p><p>该监控项的最小值</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value_avg</p><p>DOUBLE</p><p>True</p><p>False</p><p>16</p><p>该监控项的平均值</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value_max</p><p>DOUBLE</p><p>True</p><p>False</p><p>16</p><p>该监控项的最大值</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">trends_uint表</span></li></ol><p>趋势长整型表，每个小时。与items表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>itemid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>监控项ID</p><p><span style="color: rgb(78, 161, 219);">True</span></p><p>clock</p><p>INT</p><p>True</p><p>True</p><p>11</p><p>趋势时刻</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>num</p><p>INT</p><p>True</p><p>False</p><p>1</p><p>第几个趋势值</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value_min</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>趋势最小值</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value_avg</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>趋势平均值</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value_max</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>趋势最大值</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">trigger_depends表</span></li></ol><p>触发器依赖表。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>triggerdepid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>触发器依赖ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>triggerid_down</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>依赖的触发器ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>triggerid_up</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>被依赖的触发器</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">trigger_discovery表</span></li></ol><p>触发器自动发现表，与triggers表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>triggerid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>触发器ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>parent_triggerid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>父触发器ID</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">trigger_tag表（空）</span></li></ol><p>触发器标签标识信息记录表，与triggers表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>triggertagid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>触发器标识ID</p><p>False</p><p>triggerid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>触发器ID</p><p>False</p><p>tag</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>标签标识</p><p>False</p><p>value</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>值</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">triggers表</span></li></ol><p>触发器实例表。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>triggerid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>触发器ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>expression</p><p>VARCHAR</p><p>True</p><p>False</p><p>2048</p><p>触发器表达式</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>description</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>触发器描述</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>url</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>url地址</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>status</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>0 表示Trigger is active</p><p>1表示r is disabled</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>value</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>0表示OK</p><p>1表示PROBLEM</p><p>2表示UNKNOWN</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>priority</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>0表示Not classified</p><p>1表示&nbsp;&nbsp;&nbsp;Information</p><p>2表示Warning</p><p>3表示Average</p><p>4表示High</p><p>5表示&nbsp;&nbsp;&nbsp;Disaster</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>lastchange</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>最后更改时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>comments</p><p>TEXT</p><p>True</p><p>False</p><p>0</p><p>注释</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>error</p><p>VARCHAR</p><p>True</p><p>False</p><p>2048</p><p>错误信息</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>templateid</p><p>BIGINT</p><p>False</p><p>False</p><p>20</p><p>模板ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>0表示Normal event generation</p><p>1表示&nbsp;&nbsp;&nbsp;Generate multiple PROBLEM event</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>recovery_mode</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>恢复模式</p><p>False</p><p>recovery_expression</p><p>VARCHAR</p><p>True</p><p>False</p><p>2048</p><p>恢复表达式</p><p>False</p><p>correlation_mode</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>关联模式</p><p>False</p><p>correlation_mode</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>关联标识</p><p>False</p><p>manual_close</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>是否手动关闭</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">users表</span></li></ol><p>用户实例表，用于记录单个用户信息。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>userid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>用户ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>alias</p><p>VARCHAR</p><p>True</p><p>False</p><p>100</p><p>用户别名，用于显示</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>100</p><p>用户名</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>surname</p><p>VARCHAR</p><p>True</p><p>False</p><p>100</p><p>超级用户</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>passwd</p><p>CHAR</p><p>True</p><p>False</p><p>32</p><p>密码</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>url</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>登录后的URL</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>autologin</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>是否自动登录</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>autologout</p><p>INT</p><p>True</p><p>False</p><p>32</p><p>是否自动登出</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>lang</p><p>VARCHAR</p><p>True</p><p>False</p><p>5</p><p>使用的语言，需要安装</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>refresh</p><p>INTEGER</p><p>True</p><p>False</p><p>32</p><p>自动刷新间隔，单位秒</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>type</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>用户类型，分为超级管理员、普通管理员和普通用户</p><p>define(<span style="color: rgb(0, 0, 192);">'USER_TYPE_ZABBIX_USER'</span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1);</p><p>define(<span style="color: rgb(0, 0, 192);">'USER_TYPE_ZABBIX_ADMIN'</span>,&nbsp;&nbsp;&nbsp;2);</p><p>define(<span style="color: rgb(0, 0, 192);">'USER_TYPE_SUPER_ADMIN'</span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3);</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>theme</p><p>VARCHAR</p><p>True</p><p>False</p><p>128</p><p>使用的主题</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>attempt_failed</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>尝试失败的次数</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>attempt_ip</p><p>VARCHAR</p><p>True</p><p>False</p><p>39</p><p>尝试IP</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>attempt_clock</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>最后尝试时间</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>rows_per_page</p><p>INTEGER</p><p>True</p><p>False</p><p>11</p><p>每页显示多少行（或记录）</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">users_groups表</span></li></ol><p>用户-用户组关联表。与usrgrp、users表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>id</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>关联ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>usrgrpid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>用户组ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>userid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>用户ID</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">usrgrp表</span></li></ol><p>用户组表，支持用户组状态和debug模式配置。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>usrgrpid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>用户组ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>用户组名称</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>gui_access</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>详情如下：</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>users_status</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>0表示启用，1表示disable</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>debug_mode</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>是否使用debug模式</p><p>1表示开启，0表示未开启</p><p>&nbsp;</p><p><strong>Gui_access:界面访问：</strong></p><p>define(<span style="color: rgb(0, 0, 192);">'GROUP_GUI_ACCESS_SYSTEM'</span>, 0);</p><p>define(<span style="color: rgb(0, 0, 192);">'GROUP_GUI_ACCESS_INTERNAL'</span>, 1);</p><p>define(<span style="color: rgb(0, 0, 192);">'GROUP_GUI_ACCESS_DISABLED'</span>, 2);</p><p>System default- use default authentication</p><p>Internal - use Zabbix authentication. Ignored if HTTP authentication is set</p><p>Disabled - access to Zabbix GUI is forbidden</p><ol><li><span style="color: rgb(0, 0, 0);">valuemaps表</span></li></ol><p>值映射组表，用于记录单个映射实例，不包含映射具体的值（具体值在mapping表中记录）</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>valuemapid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>值映射ID</p><p><span style="color: rgb(78, 161, 219);">False</span></p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>64</p><p>映射组名称</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">widget表</span></li></ol><p>仪表盘面板工具配置信息记录表，与dashboard表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>widgetid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>工具ID</p><p>False</p><p>dashboardid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>仪表盘ID</p><p>False</p><p>type</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>工具类型</p><p>False</p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>工具名称</p><p>False</p><p>x</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>起始的X轴坐标</p><p>False</p><p>y</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>起始的Y轴坐标</p><p>False</p><p>width</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>宽度，像素</p><p>False</p><p>height</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>高度，像素</p><p>&nbsp;</p><ol><li><span style="color: rgb(0, 0, 0);">widget_field表</span></li></ol><p>仪表盘面板工具域配置信息记录表，与dashboard、widget、groups、hosts、items、graphs、sysmaps表相关联。</p><p>&nbsp;</p><p><strong>PK</strong></p><p><strong>Name</strong></p><p><strong>Type</strong></p><p><strong>Not Null</strong></p><p><strong>Unique</strong></p><p><strong>Len</strong></p><p><strong>Notes</strong></p><p>True</p><p>widget_fieldid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>工具域ID</p><p>True</p><p>widgetid</p><p>BIGINT</p><p>True</p><p>True</p><p>20</p><p>工具ID</p><p>False</p><p>type</p><p>INT</p><p>True</p><p>False</p><p>11</p><p>工具类型</p><p>False</p><p>name</p><p>VARCHAR</p><p>True</p><p>False</p><p>255</p><p>工具名称</p><p>False</p><p>value_int</p><p>BIGINT</p><p>True</p><p>False</p><p>11</p><p>整数类型的值</p><p>False</p><p>value_str</p><p>BIGINT</p><p>True</p><p>False</p><p>255</p><p>字符串类型的值</p><p>False</p><p>value_groupid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>主机组ID的值</p><p>False</p><p>value_hostid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>主机ID的值</p><p>False</p><p>value_itemid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>监控项ID的值</p><p>False</p><p>value_graphid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>图形实例ID值</p><p>False</p><p>value_sysmapid</p><p>BIGINT</p><p>True</p><p>False</p><p>20</p><p>系统地图ID值</p><p>&nbsp;</p><attachment contenteditable="false" data-atts="%5B%5D" data-aid=".atts-83a82789-3871-4856-b2a3-d9d066173763"></attachment><p><br></p>