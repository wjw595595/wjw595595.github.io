<attachment contenteditable="false" data-atts="%5B%5D" data-aid=".atts-91d1a15d-4652-4540-a412-66c1efb981d6"></attachment><p><a href="https://www.cnblogs.com/gongxr/p/12230710.html" target="_blank" style="color: black;">安装配置zabbix4.4</a></p><p><strong style="color: rgb(68, 68, 68);">1.&nbsp;基本说明</strong></p><p><span style="color: rgb(68, 68, 68);">操作系统：centOS7</span></p><p><span style="color: rgb(68, 68, 68);">安装版本：zabbix 4.4</span></p><p><span style="color: rgb(68, 68, 68);">官方网站：</span><a href="https://www.zabbix.com/cn/download" target="_blank" style="color: rgb(51, 153, 255);">https://www.zabbix.com/cn/download</a></p><p><span style="color: rgb(68, 68, 68);">Mysql版本：5.7</span></p><p><strong style="color: rgb(68, 68, 68);">2.&nbsp;安装Zabbix</strong></p><p><strong style="color: rgb(68, 68, 68);">2.1.&nbsp;下载包</strong></p><p><span style="color: rgb(68, 68, 68);">其实zabbix的官网已经有安装步骤，只是不很详细，在此补充下。</span></p><p><span style="color: rgb(68, 68, 68);">&nbsp;<img src="//:0" alt="https://img2018.cnblogs.com/i-beta/960456/202001/960456-20200123154415733-586060507.png" height="249" width="692"></span></p><p><span style="color: rgb(68, 68, 68);">&nbsp;</span></p><p><span style="color: rgb(68, 68, 68);">&nbsp;</span></p><p><span style="color: rgb(68, 68, 68);">&nbsp;</span></p><p><strong style="color: rgb(68, 68, 68);">2.2.&nbsp;更新yum源</strong></p><p>  # rpm -Uvh https://repo.zabbix.com/zabbix/4.4/rhel/7/x86_64/zabbix-release-4.4-1.el7.noarch.rpm</p><p> # yum clean all</p><p>  <span style="color: rgb(68, 68, 68);">&nbsp;</span></p><p><strong style="color: rgb(68, 68, 68);">2.3.&nbsp;安装Zabbix Server，Web前端，agent</strong></p><p>  # yum -y install zabbix-server-mysql zabbix-web-mysql zabbix-agent</p><p>  <span style="color: rgb(68, 68, 68);">&nbsp;</span></p><p><span style="color: rgb(68, 68, 68);">&nbsp;</span></p><p><strong style="color: rgb(68, 68, 68);">2.4.&nbsp;创建初始数据库</strong></p><p>  # mysql -uroot -p</p><p> password</p><p> mysql&gt; create database zabbix character set utf8 collate utf8_bin;</p><p> mysql&gt; grant all privileges on zabbix.* to zabbix@localhost identified by 'zabbix';</p><p>mysql&gt;&nbsp;flush privileges;</p><p> mysql&gt; quit;</p><p>  <span style="color: rgb(68, 68, 68);">&nbsp;</span></p><p><span style="color: rgb(68, 68, 68);">导入初始架构和数据，系统将提示您输入新创建的密码。</span></p><p>  # zcat /usr/share/doc/zabbix-server-mysql*/create.sql.gz | mysql -uzabbix -p zabbix</p><p>  <span style="color: rgb(68, 68, 68);">&nbsp;</span></p><p><strong style="color: rgb(68, 68, 68);">2.5.&nbsp;修改zabbix_server配置</strong></p><p><span style="color: rgb(68, 68, 68);">编辑配置文件&nbsp;/etc/zabbix/zabbix_server.conf</span></p><p><span style="color: rgb(68, 68, 68);">&nbsp;</span></p><p>  ListenPort=10051&nbsp;&nbsp;#&nbsp;端口</p><p>LogFile=/data/program/zabbix/log/zabbix_server.log&nbsp;#&nbsp;日志存放路径</p><p>LogFileSize=10&nbsp;&nbsp;&nbsp;#&nbsp;日志文件分片大小，可默认</p><p>DBHost=localhost&nbsp;&nbsp;# MySQL数据库地址</p><p>DBName=zabbix&nbsp;&nbsp;&nbsp;#&nbsp;数据库名</p><p>DBUser=zabbix&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;用户名</p><p>DBPassword=zabbix&nbsp;&nbsp;#&nbsp;密码</p><p>DBSocket=/tmp/mysql.sock&nbsp;#&nbsp;无特殊情况无需修改，本例中mysql环境特殊</p><p>DBPort=3306</p><p>  <span style="color: rgb(68, 68, 68);">&nbsp;</span></p><p><strong style="color: rgb(68, 68, 68);">2.6.&nbsp;为Zabbix前端配置PHP</strong></p><p><span style="color: rgb(68, 68, 68);">编辑配置文件&nbsp;/etc/httpd/conf.d/zabbix.conf&nbsp;，修改时区即可：</span></p><p>  # php_value date.timezone Europe/Riga</p><p>--&gt;</p><p>php_value date.timezone Asia/Shanghai</p><p>  <span style="color: rgb(68, 68, 68);">&nbsp;</span></p><p><span style="color: rgb(68, 68, 68);">修改httpd的访问端口，编辑&nbsp;/etc/httpd/conf/httpd.conf</span></p><p>  Listen 80&nbsp;--&gt; Listen 8090</p><p>  <span style="color: rgb(68, 68, 68);">&nbsp;</span></p><p><strong style="color: rgb(68, 68, 68);">2.7.&nbsp;启动Zabbix server和agent进程</strong></p><p><span style="color: rgb(68, 68, 68);">启动Zabbix server和agent进程，并为它们设置开机自启：</span></p><p>  # systemctl restart zabbix-server zabbix-agent httpd</p><p> # systemctl enable zabbix-server zabbix-agent httpd</p><p>  <span style="color: rgb(68, 68, 68);">&nbsp;</span></p><p><strong style="color: rgb(68, 68, 68);">2.8.&nbsp;配置Zabbix前端</strong></p><p><span style="color: rgb(68, 68, 68);">连接到新安装的Zabbix前端：&nbsp;http://ip:post/zabbix</span></p><p><span style="color: rgb(68, 68, 68);">根据Zabbix文件里步骤操作：</span></p><p><a href="https://www.cnblogs.com/gongxr/p/12230710.html#installing_frontend" target="_blank" style="color: rgb(51, 153, 255);">https://www.zabbix.com/documentation/current/manual/installation/install#installing_frontend</a></p><p><span style="color: rgb(68, 68, 68);">在页面上根据提示填入对应信息，后自动生成配置文件，地址如下：</span></p><p><span style="color: rgb(68, 68, 68);">/etc/zabbix/web/zabbix.conf.php</span></p><p>  &lt;?php</p><p>// Zabbix GUI configuration file.</p><p>global $DB;</p><p>&nbsp;</p><p>$DB['TYPE']&nbsp;&nbsp;&nbsp;&nbsp;= 'MYSQL';</p><p>$DB['SERVER']&nbsp;&nbsp;= 'localhost';</p><p>$DB['PORT']&nbsp;&nbsp;&nbsp;&nbsp;= '0';</p><p>$DB['DATABASE'] = 'zabbix';</p><p>$DB['USER']&nbsp;&nbsp;&nbsp;&nbsp;= 'zabbix';</p><p>$DB['PASSWORD'] = '123456';</p><p>&nbsp;</p><p>// Schema name. Used for IBM DB2 and PostgreSQL.</p><p>$DB['SCHEMA'] = '';</p><p>&nbsp;</p><p>$ZBX_SERVER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 'localhost';</p><p>$ZBX_SERVER_PORT = '10051';</p><p>$ZBX_SERVER_NAME = 'MyZabbix';</p><p>&nbsp;</p><p>$IMAGE_FORMAT_DEFAULT = IMAGE_FORMAT_PNG;</p><p>  <span style="color: rgb(68, 68, 68);">&nbsp;</span></p><p><span style="color: rgb(68, 68, 68);">配置完成后默认登陆账号密码：Admin/zabbix</span></p><p><span style="color: rgb(68, 68, 68);">Linux系统中zabbix使用zabbix用户</span></p><p>&nbsp;</p><p><br></p><h1>遇到的问题</h1><h2><a href="https://www.cnblogs.com/dantes91/p/4777486.html" target="_blank" style="color: rgb(51, 153, 255);">php databases support off fail zabbix</a></h2><p>缺少：mysqli&nbsp;</p><p>解决；</p><p>yum install php-devel</p><p><br></p>