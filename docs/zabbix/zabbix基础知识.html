<p>事件：</p><p><strong>触发器事件、发现事件、内部事件、自动注册事件</strong></p><attachment contenteditable="false" data-atts="%5B%5D" data-aid=".atts-c7e3fbe5-7167-4e2e-a561-957a044b49ec"></attachment><p class="ql-align-justify"><br></p><p class="ql-align-justify"><br></p><p class="ql-align-justify"><strong>重点说明下problem&nbsp;与&nbsp;event:</strong></p><p class="ql-align-justify">触发器被触发时，会生成一个 problem event 记录, 当问题恢复正常时，会生成一个recovery event记录，两个event的时间差，即为事件持续时间。所有的event都存在于同一张表。对应接口25）报警时间查询</p><p class="ql-align-justify">&nbsp;</p><p class="ql-align-justify">problem存在于一张单独的表，每一条记录对应了两个事件，即problem event 和 recovery event。对应接口24）报警数据查询。</p><p class="ql-align-justify">这张表zabbix后台会定期清理，problem事件恢复30分钟后，会被从表中删除。</p><p class="ql-align-justify">&nbsp;</p><p class="ql-align-justify">所以如果要查当前的报警事件，去problem里查；如果要查事件的历史记录，到event里查，并且要对problem event 与 recovery event 进行匹配计算，一个开始对应一个结束，才算一条历史报警记录。</p><p><br></p><p><br></p><p><br></p>