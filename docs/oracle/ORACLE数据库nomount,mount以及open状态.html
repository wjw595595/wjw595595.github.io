<attachment contenteditable="false" data-atts="%5B%5D" data-aid=".atts-b77c90de-00ac-4caa-aa42-8d439a26edc1"></attachment><p>https://blog.csdn.net/SmallyYellowPiggy/article/details/75646458</p><p><br></p><p>https://blog.csdn.net/sakura379/article/details/89874624</p><p><strong style="color: rgb(255, 0, 0);">一.nomount:读参数文件，启动实例和后台进程</strong></p><p><strong>以sysdba身份登录：sqlplus / as sysdba</strong></p><p><strong>sql&gt;startup nomount</strong></p><p><strong>sql&gt;select status from v$instance;--查看数据库状态</strong></p><p><strong><img src="https://img-blog.csdn.net/20170721150503898?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU21hbGx5WWVsbG93UGlnZ3k=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"></strong></p><p><strong style="color: rgb(255, 0, 0);">二.mount:打开控制文件</strong></p><p><strong>sql&gt;alter database mount;</strong></p><p><strong>这里顺便讲一下</strong><strong style="color: rgb(204, 0, 0);">checkpoint_change#</strong><strong>(检查点),主要是系统检查点、数据文件检查点以及数据文件头检查点，这些检查点都是记录在控制文件中，因此数据库必须是mount状态，否则查询不了便会出现以下错误：</strong></p><p><strong><img src="https://img-blog.csdn.net/20170721151403738?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU21hbGx5WWVsbG93UGlnZ3k=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"></strong></p><p><strong>因此，在查看checkpoint_change#时，应将数据库启动成mount状态。</strong></p><p><strong>sql&gt;alter database mount;</strong></p><p><strong style="color: rgb(204, 0, 0);">三.open:数据库打开</strong></p><p><strong>sql&gt;alter database open</strong></p><p><strong style="color: rgb(204, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;当系统、数据文件以及数据文件头这三个checkpoint_change#一致(只读、脱机表空间除外)时，数据库才能正常打开。正常关库时，会生成新的检查点，写入上述三个checkpoint_change#，同时数据文件中的last_change#也会记录下该检查点，也就是说三个checkpoint_change#与last_change#记录着同一个值。</strong></p><p><strong style="color: rgb(204, 0, 0);">&nbsp;&nbsp;&nbsp;数据库打开前，先确定是否介质恢复，再确定是否实例恢复。介质恢复主要是更新旧的文件，而实例恢复主要是更新内存。如果last_change#值为空，则说明需要进行实例恢复，恢复后的数据库才能打开。</strong></p><p><strong>1.系统检查点</strong></p><p><strong>sql&gt;select checkpoint_change# from v$database;</strong></p><p><strong><img src="https://img-blog.csdn.net/20170721151744075?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU21hbGx5WWVsbG93UGlnZ3k=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"></strong></p><p><strong>2.数据文件检查点</strong></p><p><strong>sql&gt; select file#,checkpoint_change#,last_change# from v$datafile;</strong></p><p><strong><img src="https://img-blog.csdn.net/20170721153008782?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU21hbGx5WWVsbG93UGlnZ3k=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"></strong></p><p><br></p><p><strong>3.数据文件头检查点</strong></p><p><strong>sql&gt;&nbsp;select file#,checkpoint_change# from v$datafile_header;</strong></p><p><strong><img src="https://img-blog.csdn.net/20170721152506765?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU21hbGx5WWVsbG93UGlnZ3k=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"></strong></p><p><strong>可以看出这三个检查点的值都一致，因此数据库可以正常打开。</strong></p><p><strong>4.</strong></p><p><strong>sql&gt;alter database open;</strong></p><p><strong>sql&gt;select status from v$instance;--查看数据库状态。</strong></p><p><strong><img src="https://img-blog.csdn.net/20170721153204373?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU21hbGx5WWVsbG93UGlnZ3k=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"></strong></p><p><br></p>