CAP理论：
CAP原则
一致性（Consistency） - 对某个指定的客户端来说，读操作保证能够返回最新的写操作结果。

可用性（Availability） - 非故障的节点在合理的时间内返回合理的响应（不是错误和超时的响应）。

分区容错性（Partition Tolerance） - 当出现网络分区后，系统能够继续履行职责。

CAP关注的粒度是数据，而不是整个系统

ACID 是数据库事务完整性的理论，CAP 是分布式系统设计理论，BASE 是 CAP 理论中 AP 方案的延伸。

网络分区：
网络分区指由于网络设备的failure，造成网络分裂为多个独立的组
网络分区的原因即有Network failure又有Node failure


二阶段提交：
2PC顾名思义分为两个阶段，其实施思路可概括为：
（1）投票阶段（voting phase）：参与者将操作结果通知协调者；
（2）提交阶段（commit phase）：收到参与者的通知后，协调者再向参与者发出通知，根据反馈情况决定各参与者是否要提交还是回滚；

eg：
五、举例
甲乙丙丁四人要组织一个会议，需要确定会议时间，不妨设甲是协调者，乙丙丁是参与者。
投票阶段：
（1）甲发邮件给乙丙丁，周二十点开会是否有时间；
（2）甲回复有时间；
（3）乙回复有时间；
（4）丙迟迟不回复，此时对于这个活动，甲乙丙均处于阻塞状态，算法无法继续进行；
（5）丙回复有时间（或者没有时间）；
提交阶段：
（1）协调者甲将收集到的结果反馈给乙丙丁（什么时候反馈，以及反馈结果如何，在此例中取决与丙的时间与决定）；
（2）乙收到；
（3）丙收到；
（4）丁收到；



六、结论
2PC效率很低，分布式事务很难做。